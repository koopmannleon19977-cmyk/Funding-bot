17:48:38 [INFO] CONFIG VALIDATION COMPLETED.
17:48:38 [INFO] ğŸ”¥ BOT V5 (Architected) STARTING...
17:48:38 [INFO] ğŸš€ Starting InMemoryStateManager...
17:48:38 [INFO] ğŸ“‚ Initializing database: data/trades.db
17:48:38 [INFO] âœ… Read pool created: 5 connections
17:48:38 [INFO] âœ… WAL mode enabled
17:48:38 [INFO] ğŸ”„ Running database migrations...
17:48:38 [INFO] âœ… Migrations complete (14 statements)
17:48:38 [INFO] âœ… Database initialized
17:48:38 [INFO] ğŸ–Šï¸ Database write loop started
17:48:38 [DEBUG] Maintenance not due (Last: 4h ago)
17:48:38 [INFO] ğŸ“‚ Loaded 3 trades from database
17:48:38 [INFO] âœ… InMemoryStateManager started (loaded 3 trades)
17:48:38 [INFO] âœ… State Manager started
17:48:38 [INFO]  Telegram Bot disabled (Token/ChatID missing).
17:48:38 [INFO] âœ… Async database initialized
17:48:38 [INFO] ğŸ“ State writer loop started
17:48:38 [DEBUG] âœ… Database schema up to date
17:48:38 [INFO] Initialisiere X10 Adapter...
17:48:38 [INFO]  X10 Account initialisiert.
17:48:38 [INFO] Initialisiere Lighter Adapter...
17:48:38 [INFO] âœ… Applied Monkey-Patch for SignerClient.switch_api_key
17:48:38 [INFO] ğŸ’° Checking exchange balances at startup...
17:48:38 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
17:48:39 [INFO] ğŸ’° X10 verfÃ¼gbare Balance: $242.75 USDC
17:48:39 [DEBUG] Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
17:48:40 [DEBUG] https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=60113&api_key_index=3 HTTP/1.1" 200 25
17:48:42 [DEBUG] Lighter Balance: Raw=$261.14, Safe=$248.09
17:48:42 [INFO] ğŸ’° STARTUP BALANCE CHECK: X10=$242.75, Lighter=$248.09
17:48:42 [INFO] âœ… Exchange balances OK - Bot can trade!
17:48:42 [INFO] ğŸ’° FeeManager initialized (Dynamic Fees: ENABLED)
17:48:42 [DEBUG] FeeManager: Adapters set (X10=True, Lighter=True)
17:48:42 [INFO] âœ… Lighter Fee Check OK (Using Config): Maker=0.0007, Taker=0.001
17:48:42 [INFO] âœ… Lighter Fees updated: Maker=0.000700, Taker=0.001000 (source=api)
17:48:43 [INFO] âœ… X10 Fee Schedule (REST /api/v1/user/fees): Maker=0.000000, Taker=0.000225
17:48:43 [INFO] âœ… X10 Fees updated: Maker=0.000000, Taker=0.000225 (source=api)
17:48:43 [INFO] âœ… FeeManager started with periodic refresh
17:48:43 [INFO] âœ… FeeManager started
17:48:43 [INFO] ğŸ² KellyPositionSizer initialized (Safety=0.25, MaxFraction=0.1)
17:48:43 [WARNING] âš ï¸ Kelly: All 14 trades had $0.00 PnL - check PnL recording in close_trade!
17:48:43 [INFO] âœ… Funding Tracker started (updates every 3600s)
17:48:43 [INFO] âœ… FundingTracker started (interval=3600s)
17:48:43 [INFO] ğŸ“Š Loading Market Data via REST...
17:48:43 [INFO] ğŸ”„ Funding tracking loop started...
17:48:43 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
17:48:43 [INFO] ğŸ“Š Updating funding for 3 open trades...
17:48:43 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
17:48:45 [INFO] âœ… Lighter: Loaded 114 markets (base data)
17:48:45 [INFO] Lighter: Found 0 open positions
17:48:45 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
17:48:45 [INFO]  X10: 91 MÃ¤rkte geladen, 91 Funding Rates, 78 Preise
17:48:45 [INFO] Lighter: Found 0 open positions
17:48:45 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
17:48:46 [INFO] Lighter: Found 0 open positions
17:48:46 [INFO] âœ… Funding update complete: 0/3 trades updated, $0.00 collected this cycle ($0.00 lifetime) in 3.0s
17:48:46 [INFO] âœ… Lighter: Updated 113 markets with size_decimals from API
17:48:46 [INFO] ğŸ“Š MARKET ADA-USD: size_decimals=1, price_decimals=5, min_base_amount=10.0
17:48:46 [INFO] ğŸ“Š MARKET SEI-USD: size_decimals=1, price_decimals=5, min_base_amount=50.0
17:48:46 [INFO] ğŸ“Š MARKET RESOLV-USD: size_decimals=0, price_decimals=6, min_base_amount=40.0
17:48:46 [INFO] ğŸ“Š MARKET TIA-USD: size_decimals=1, price_decimals=5, min_base_amount=3.0
17:48:46 [INFO] âœ… Markets loaded: X10=91, Lighter=114
17:48:46 [INFO] ğŸ“ˆ Pre-loading Lighter prices...
17:48:47 [DEBUG] Lighter: Loaded 380 funding rates
17:48:47 [DEBUG] Lighter: Loaded 115 prices via REST
17:48:47 [INFO] âœ… Lighter prices loaded: 115 symbols
17:48:47 [INFO] ğŸ”¥ Warming up execution clients (Network Handshake)...
17:48:47 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
17:48:50 [INFO] âœ… Execution clients warmed up & NETWORK READY
17:48:50 [INFO] ğŸ›‘ Funding tracker: Cancelled
17:48:50 [INFO] ğŸ“ State writer loop stopped
17:48:50 [INFO] ğŸ–Šï¸ Database write loop stopped
