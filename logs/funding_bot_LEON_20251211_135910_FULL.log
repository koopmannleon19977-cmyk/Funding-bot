13:59:11 [INFO] CONFIG VALIDATION COMPLETED.
13:59:13 [DEBUG] Consider installing rusty-rlp to improve pyrlp performance with a rust basedbackend. Not currently functional for Python 3.11
13:59:14 [INFO] ğŸ›¡ï¸ Lighter Rate Limiter Tier: STANDARD
13:59:14 [DEBUG] âœ… Decimal adapter registered for SQLite
13:59:14 [INFO] ğŸ”¥ BOT V5 (Architected) STARTING...
13:59:14 [INFO] ğŸš€ Starting InMemoryStateManager...
13:59:14 [INFO] ğŸ“‚ Initializing database: data/trades.db
13:59:14 [INFO] âœ… Read pool created: 5 connections
13:59:14 [INFO] âœ… WAL mode enabled
13:59:14 [INFO] ğŸ”„ Running database migrations...
13:59:14 [INFO] âœ… Migrations complete (14 statements)
13:59:14 [INFO] âœ… Database initialized
13:59:14 [INFO] ğŸ–Šï¸ Database write loop started
13:59:14 [DEBUG] Maintenance not due (Last: 20h ago)
13:59:14 [INFO] ğŸ“‚ Loaded 3 trades from database
13:59:14 [INFO] âœ… InMemoryStateManager started (loaded 3 trades)
13:59:14 [INFO] âœ… State Manager started
13:59:14 [INFO]  Telegram Bot disabled (Token/ChatID missing).
13:59:14 [INFO] âœ… Async database initialized
13:59:14 [INFO] ğŸ“ State writer loop started
13:59:14 [DEBUG] âœ… Database schema up to date
13:59:14 [INFO] Initialisiere X10 Adapter...
13:59:14 [INFO]  X10 Account initialisiert.
13:59:14 [INFO] Initialisiere Lighter Adapter...
13:59:14 [INFO] âœ… Using SaferSignerClient subclass instead of Monkey-Patch
13:59:14 [INFO] ğŸ’° Checking exchange balances at startup...
13:59:14 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
13:59:15 [INFO] ğŸ’° X10 verfÃ¼gbare Balance: $231.98 USDC
13:59:15 [DEBUG] Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
13:59:16 [DEBUG] https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=60113&api_key_index=3 HTTP/1.1" 200 25
13:59:18 [DEBUG] Lighter Balance: Raw=$264.63, Safe=$251.40
13:59:18 [INFO] ğŸ’° STARTUP BALANCE CHECK: X10=$231.98, Lighter=$251.40
13:59:18 [INFO] âœ… Exchange balances OK - Bot can trade!
13:59:18 [INFO] ğŸ’° FeeManager initialized (Dynamic Fees: ENABLED)
13:59:18 [DEBUG] FeeManager: Adapters set (X10=True, Lighter=True)
13:59:18 [INFO] âœ… Lighter Fee Check OK (Using Config): Maker=0.0007, Taker=0.001
13:59:18 [INFO] âœ… Lighter Fees updated: Maker=0.000700, Taker=0.001000 (source=api)
13:59:19 [INFO] âœ… X10 Fee Schedule (REST /api/v1/user/fees): Maker=0.000000, Taker=0.000225
13:59:19 [INFO] âœ… X10 Fees updated: Maker=0.000000, Taker=0.000225 (source=api)
13:59:19 [INFO] âœ… FeeManager started with periodic refresh
13:59:19 [INFO] âœ… FeeManager started
13:59:19 [INFO] ğŸ² KellyPositionSizer initialized (Safety=0.25, MaxFraction=0.1)
13:59:19 [INFO] âœ… Kelly Sizer initialized
13:59:19 [INFO] ğŸ›‘ STOPPING BOT: Initiating Graceful Shutdown...
13:59:19 [INFO] ğŸ›‘ GRACEFUL SHUTDOWN: Closing all positions...
13:59:19 [INFO] ğŸ›‘ Shutdown orchestrator start (reason=funding_bot)
13:59:19 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:59:20 [INFO] Lighter: Found 0 open positions
13:59:20 [INFO] ğŸ“¸ Position snapshot: X10=0, Lighter=0
13:59:20 [INFO] â„¹ï¸ No ParallelExecutionManager registered
13:59:20 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:59:21 [INFO] Lighter: Found 0 open positions
13:59:21 [INFO] âš¡ Attempting global Lighter cancel...
13:59:23 [INFO] âš¡ Executing ImmediateCancelAll (nonce=6006)...
13:59:23 [DEBUG] Cancel All Orders Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"TimeInForce":0,"Time":0,"ExpiredAt":1765458562587,"Nonce":6006,"Sig":"HDv1No1l1yRq/FPiqo69EIXPe2qkc19EAG7ObGj7l6NxTBBCssSKJMHA5m1hxqEI6pHwK84hRzgMFYsIb9RNXk4RBCodeyRNSV+5sGx43Hg="}
13:59:23 [DEBUG] Cancel All Orders Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='db7eefb4b59f291c44432eb689c7c7fead86a8fad0fcb140237d13477fc1878d86119b3881dbce1d' predicted_execution_time_ms=1765457952147 additional_properties={}
13:59:23 [INFO] âœ… Lighter: ImmediateCancelAll executed (tx={"AccountIndex":60113,"ApiKeyIndex":3,"TimeInForce":0,"Time":0,"ExpiredAt":1765458562587,"Nonce":6006,"Sig":"HDv1No1l1yRq/FPiqo69EIXPe2qkc19EAG7ObGj7l6NxTBBCssSKJMHA5m1hxqEI6pHwK84hRzgMFYsIb9RNXk4RBCodeyRNSV+5sGx43Hg="})
13:59:23 [INFO] ğŸ›‘ Cancelling open orders for 3 symbols (LighterGlobal=True)...
13:59:23 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/orders?
13:59:23 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/orders?
13:59:24 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/orders?
13:59:25 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:59:25 [INFO] Lighter: Found 0 open positions
13:59:25 [INFO] âœ… No open positions to close
13:59:25 [INFO] ğŸ” Final position sweep...
13:59:25 [DEBUG] [LIGHTER] ğŸ”„ Deduplicated: LIGHTER:fetch_open_positions
13:59:25 [DEBUG] [X10] ğŸ”„ Deduplicated: X10:fetch_open_positions
13:59:25 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:59:25 [INFO] âœ… Final sweep: No positions found
13:59:25 [INFO] ğŸ›‘ Stopping InMemoryStateManager...
13:59:25 [INFO] ğŸ“ State writer loop stopped
13:59:25 [INFO] âœ… InMemoryStateManager stopped
13:59:25 [INFO] ğŸ›‘ FeeManager stopped
13:59:25 [INFO] ğŸ”’ Closing database...
13:59:25 [INFO] ğŸ–Šï¸ Database write loop stopped
13:59:25 [INFO] âœ… Database closed
13:59:25 [INFO] ğŸ’¾ Persist phase complete
13:59:25 [INFO] âœ… Lighter Adapter closed
13:59:25 [INFO] âœ… X10 Adapter geschlossen.
13:59:25 [INFO] âœ… Teardown complete
13:59:25 [DEBUG] Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
13:59:26 [DEBUG] https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=60113&api_key_index=3 HTTP/1.1" 200 25
13:59:26 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:59:28 [INFO] Lighter: Found 0 open positions
13:59:28 [INFO] âœ… All positions closed. Bye! (elapsed=6.19s)
13:59:28 [INFO] âœ… All positions closed. Bye!
13:59:28 [INFO] ğŸ›‘ Stopping Infrastructure...
13:59:28 [INFO] ğŸ›‘ Stopping InMemoryStateManager...
13:59:28 [INFO] âœ… InMemoryStateManager stopped
13:59:28 [INFO] ğŸ›‘ FeeManager stopped
13:59:28 [INFO] âœ… X10 Adapter geschlossen.
13:59:28 [INFO] âœ… Lighter Adapter closed
