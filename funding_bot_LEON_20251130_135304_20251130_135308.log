13:53:08 [INFO]  CONFIG VALIDIERUNG abgeschlossen.
13:53:08 [DEBUG] Using selector: SelectSelector
13:53:08 [INFO]  üî• BOT V4 (Full Architected) STARTING...
13:53:08 [INFO] üöÄ Starting InMemoryStateManager...
13:53:08 [INFO] üìÇ Initializing database: data/trades.db
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED6499D00>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED6499D00> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8A90>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8A90>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED649A0C0>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED649A0C0> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8D60>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8D60>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED649A2A0>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED649A2A0> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9210>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9210>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED6499B20>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED6499B20> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A97B0>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A97B0>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED649A660>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED649A660> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9B70>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9B70>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [INFO] ‚úÖ Read pool created: 5 connections
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED649A480>
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED649A480> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA foreign_keys=ON', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA foreign_keys=ON', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA journal_mode=WAL', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA journal_mode=WAL', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA synchronous=NORMAL', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, 'PRAGMA synchronous=NORMAL', []) completed
13:53:08 [INFO] ‚úÖ WAL mode enabled
13:53:08 [INFO] üîÑ Running database migrations...
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            CREATE TABLE IF NOT EXISTS trades (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                side_x10 TEXT NOT NULL,\n                side_lighter TEXT NOT NULL,\n                size_usd REAL NOT NULL,\n                entry_price_x10 REAL,\n                entry_price_lighter REAL,\n                status TEXT DEFAULT 'open',\n                is_farm_trade INTEGER DEFAULT 0,\n                created_at INTEGER NOT NULL,\n                closed_at INTEGER,\n                pnl REAL DEFAULT 0,\n                funding_collected REAL DEFAULT 0,\n                account_label TEXT,\n                x10_order_id TEXT,\n                lighter_order_id TEXT,\n                UNIQUE(symbol, status) ON CONFLICT REPLACE\n            )\n            ", [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            CREATE TABLE IF NOT EXISTS trades (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                side_x10 TEXT NOT NULL,\n                side_lighter TEXT NOT NULL,\n                size_usd REAL NOT NULL,\n                entry_price_x10 REAL,\n                entry_price_lighter REAL,\n                status TEXT DEFAULT 'open',\n                is_farm_trade INTEGER DEFAULT 0,\n                created_at INTEGER NOT NULL,\n                closed_at INTEGER,\n                pnl REAL DEFAULT 0,\n                funding_collected REAL DEFAULT 0,\n                account_label TEXT,\n                x10_order_id TEXT,\n                lighter_order_id TEXT,\n                UNIQUE(symbol, status) ON CONFLICT REPLACE\n            )\n            ", []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_symbol ON trades(symbol)\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_symbol ON trades(symbol)\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_status ON trades(status)\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_status ON trades(status)\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_created ON trades(created_at)\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_created ON trades(created_at)\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS funding_history (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                rate REAL NOT NULL,\n                timestamp INTEGER NOT NULL,\n                collected_amount REAL DEFAULT 0\n            )\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS funding_history (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                rate REAL NOT NULL,\n                timestamp INTEGER NOT NULL,\n                collected_amount REAL DEFAULT 0\n            )\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_funding_symbol_ts \n            ON funding_history(symbol, timestamp)\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_funding_symbol_ts \n            ON funding_history(symbol, timestamp)\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS execution_log (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                action TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                success INTEGER NOT NULL,\n                order_id TEXT,\n                error TEXT,\n                latency_ms REAL,\n                timestamp INTEGER NOT NULL\n            )\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS execution_log (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                action TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                success INTEGER NOT NULL,\n                order_id TEXT,\n                error TEXT,\n                latency_ms REAL,\n                timestamp INTEGER NOT NULL\n            )\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS bot_state (\n                key TEXT PRIMARY KEY,\n                value TEXT NOT NULL,\n                updated_at INTEGER NOT NULL\n            )\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS bot_state (\n                key TEXT PRIMARY KEY,\n                value TEXT NOT NULL,\n                updated_at INTEGER NOT NULL\n            )\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS pnl_snapshots (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                timestamp INTEGER NOT NULL,\n                total_pnl REAL NOT NULL,\n                unrealized_pnl REAL NOT NULL,\n                realized_pnl REAL NOT NULL,\n                funding_pnl REAL NOT NULL,\n                trade_count INTEGER NOT NULL\n            )\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS pnl_snapshots (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                timestamp INTEGER NOT NULL,\n                total_pnl REAL NOT NULL,\n                unrealized_pnl REAL NOT NULL,\n                realized_pnl REAL NOT NULL,\n                funding_pnl REAL NOT NULL,\n                trade_count INTEGER NOT NULL\n            )\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_pnl_ts ON pnl_snapshots(timestamp)\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE INDEX IF NOT EXISTS idx_pnl_ts ON pnl_snapshots(timestamp)\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS _migrations (\n                id INTEGER PRIMARY KEY,\n                name TEXT NOT NULL,\n                applied_at INTEGER NOT NULL\n            )\n            ', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            CREATE TABLE IF NOT EXISTS _migrations (\n                id INTEGER PRIMARY KEY,\n                name TEXT NOT NULL,\n                applied_at INTEGER NOT NULL\n            )\n            ', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>)
13:53:08 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>) completed
13:53:08 [INFO] ‚úÖ Migrations complete (11 statements)
13:53:08 [INFO] ‚úÖ Database initialized
13:53:08 [INFO] üñäÔ∏è Database write loop started
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8A90>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ())
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8A90>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ()) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6492E40>)
13:53:08 [DEBUG] operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6492E40>) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020ED6492E40>)
13:53:08 [DEBUG] operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020ED6492E40>) completed
13:53:08 [INFO] üìÇ Loaded 2 trades from database
13:53:08 [INFO] ‚úÖ InMemoryStateManager started (loaded 2 trades)
13:53:08 [INFO] ‚úÖ State Manager started
13:53:08 [INFO]  Telegram Bot disabled (Token/ChatID missing).
13:53:08 [INFO] ‚úÖ Async database initialized
13:53:08 [DEBUG] executing <function connect.<locals>.connector at 0x0000020ED649AA20>
13:53:08 [INFO] üìù State writer loop started
13:53:08 [DEBUG] operation <function connect.<locals>.connector at 0x0000020ED649AA20> completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64AA5C0>, "\n                CREATE TABLE IF NOT EXISTS trade_history (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    symbol TEXT NOT NULL,\n                    entry_time TIMESTAMP,\n                    exit_time TIMESTAMP,\n                    hold_duration_hours REAL,\n                    close_reason TEXT,\n                    final_pnl_usd REAL,\n                    funding_pnl_usd REAL,\n                    spread_pnl_usd REAL,\n                    fees_usd REAL,\n                    account_label TEXT DEFAULT 'Main'\n                )\n            ", [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64AA5C0>, "\n                CREATE TABLE IF NOT EXISTS trade_history (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    symbol TEXT NOT NULL,\n                    entry_time TIMESTAMP,\n                    exit_time TIMESTAMP,\n                    hold_duration_hours REAL,\n                    close_reason TEXT,\n                    final_pnl_usd REAL,\n                    funding_pnl_usd REAL,\n                    spread_pnl_usd REAL,\n                    fees_usd REAL,\n                    account_label TEXT DEFAULT 'Main'\n                )\n            ", []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64AA5C0>)
13:53:08 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64AA5C0>) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64AA5C0>, 'PRAGMA table_info(trade_history)', [])
13:53:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64AA5C0>, 'PRAGMA table_info(trade_history)', []) completed
13:53:08 [DEBUG] executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6492440>)
13:53:08 [DEBUG] operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6492440>) completed
13:53:08 [DEBUG] ‚úÖ Database schema up to date
13:53:08 [DEBUG] executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020ED64AA5C0>)
13:53:08 [DEBUG] operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020ED64AA5C0>) completed
13:53:08 [INFO] Initialisiere X10 Adapter...
13:53:08 [INFO]  X10 Account initialisiert.
13:53:08 [INFO] Initialisiere Lighter Adapter...
13:53:08 [INFO] üìä Loading Market Data...
13:53:08 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:53:08 [INFO] ‚öôÔ∏è Lighter: Loading markets...
13:53:08 [DEBUG] Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
13:53:09 [DEBUG] https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=60113&api_key_index=3 HTTP/1.1" 200 25
13:53:11 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
13:54:06 [INFO] ‚úÖ Lighter: 118/118 markets loaded (100.0%)
13:54:06 [INFO] ‚úÖ Markets loaded: X10=91, Lighter=118
13:54:06 [INFO] üìà Pre-loading funding rates...
13:54:08 [INFO] ‚úÖ Lighter funding rates pre-loaded: 115
13:54:08 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:54:08 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8D60>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ())
13:54:08 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A8D60>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ()) completed
13:54:08 [DEBUG] executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6493BC0>)
13:54:08 [DEBUG] operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020ED6493BC0>) completed
13:54:08 [DEBUG] executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020ED6493BC0>)
13:54:08 [DEBUG] operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020ED6493BC0>) completed
13:54:11 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
13:54:11 [INFO] ‚úÖ X10 funding rates: 91
13:54:11 [INFO] üåê Starting WebSocket streams...
13:54:11 [INFO] DEBUG: About to call ws_manager.start()...
13:54:11 [INFO] üîå [lighter] WebSocket manager started
13:54:11 [INFO] üîå [x10] WebSocket manager started
13:54:11 [INFO] ‚úÖ WebSocketManager started
13:54:11 [INFO] ‚úÖ WebSocket streams connected
13:54:11 [INFO] DEBUG: ws_manager.start() completed or failed, continuing...
13:54:11 [INFO] üîç STATE RECONCILIATION: Checking DB vs Exchange...
13:54:11 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:11 [DEBUG] = connection is CONNECTING
13:54:11 [DEBUG] = connection is CONNECTING
13:54:12 [DEBUG] > GET /stream HTTP/1.1
13:54:12 [DEBUG] > Host: mainnet.zklighter.elliot.ai
13:54:12 [DEBUG] > Upgrade: websocket
13:54:12 [DEBUG] > Connection: Upgrade
13:54:12 [DEBUG] > Sec-WebSocket-Key: iC0qZpH9h3FxLCCLCjyn0Q==
13:54:12 [DEBUG] > Sec-WebSocket-Version: 13
13:54:12 [DEBUG] > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
13:54:12 [DEBUG] > User-Agent: Python/3.11 websockets/15.0.1
13:54:12 [DEBUG] > GET /stream.extended.exchange/v1/account HTTP/1.1
13:54:12 [DEBUG] > Host: api.starknet.extended.exchange
13:54:12 [DEBUG] > Upgrade: websocket
13:54:12 [DEBUG] > Connection: Upgrade
13:54:12 [DEBUG] > Sec-WebSocket-Key: 7svELyEOkNs2FIjD2BN7pg==
13:54:12 [DEBUG] > Sec-WebSocket-Version: 13
13:54:12 [DEBUG] > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
13:54:12 [DEBUG] > X-Api-Key: a1c9207f79f0e57ddc454bf1e16dbe49
13:54:12 [DEBUG] > User-Agent: X10PythonTradingClient/0. 4.5
13:54:12 [DEBUG] < HTTP/1.1 101 Switching Protocols
13:54:12 [DEBUG] < Date: Sun, 30 Nov 2025 12:54:05 GMT
13:54:12 [DEBUG] < Connection: upgrade
13:54:12 [DEBUG] < Upgrade: websocket
13:54:12 [DEBUG] < Sec-WebSocket-Accept: mrhmnwgkiiQqEKkylpzaoHn+SIo=
13:54:12 [DEBUG] < Access-Control-Allow-Credentials: true
13:54:12 [DEBUG] < Access-Control-Max-Age: 86400
13:54:12 [DEBUG] < Vary: Origin
13:54:12 [DEBUG] < Vary: Origin
13:54:12 [DEBUG] < Access-Control-Allow-Origin: *
13:54:12 [DEBUG] < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
13:54:12 [DEBUG] < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
13:54:12 [DEBUG] < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
13:54:12 [DEBUG] = connection is OPEN
13:54:12 [DEBUG] < TEXT '{"session_id":"edea4353-de01-4066-84fd-238d48d98156","type":"connected"}' [72 bytes]
13:54:12 [INFO] ‚úÖ [lighter] Connected to wss://mainnet.zklighter.elliot.ai/stream
13:54:12 [DEBUG] < HTTP/1.1 101 Switching Protocols
13:54:12 [DEBUG] < Date: Sun, 30 Nov 2025 12:54:05 GMT
13:54:12 [DEBUG] < Connection: upgrade
13:54:12 [DEBUG] < Upgrade: websocket
13:54:12 [DEBUG] < Sec-WebSocket-Accept: NGbJQfeTPB52tdxYanVzUXQY7Pw=
13:54:12 [DEBUG] = connection is OPEN
13:54:12 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":true,"orde...:1764507246000,"seq":1}' [82 bytes]
13:54:12 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":true,"p...:1764507246000,"seq":2}' [88 bytes]
13:54:12 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":true,"ba...:1764507246000,"seq":3}' [376 bytes]
13:54:12 [INFO] ‚úÖ [x10] Connected to wss://api.starknet.extended.exchange/stream.extended.exchange/v1/account
13:54:13 [INFO] Lighter: Found 0 open positions
13:54:13 [WARNING] üëª GHOST TRADE: KAITO-USD in DB but NOT on exchanges - cleaning DB
13:54:13 [INFO] ‚úÖ Trade KAITO-USD closed (PnL: $0.00)
13:54:13 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            UPDATE trades \n            SET status = 'closed', \n                closed_at = ?, \n                pnl = ?,\n                funding_collected = ?\n            WHERE symbol = ?  AND status = 'open'\n        ", (1764507253263, 0, 0, 'KAITO-USD'))
13:54:13 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            UPDATE trades \n            SET status = 'closed', \n                closed_at = ?, \n                pnl = ?,\n                funding_collected = ?\n            WHERE symbol = ?  AND status = 'open'\n        ", (1764507253263, 0, 0, 'KAITO-USD')) completed
13:54:13 [DEBUG] üìù Flushed 1 writes
13:54:13 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>)
13:54:13 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>) completed
13:54:13 [DEBUG] üìù Flushed 1 writes in 0.0ms
13:54:13 [WARNING] üëª GHOST TRADE: ZRO-USD in DB but NOT on exchanges - cleaning DB
13:54:13 [INFO] ‚úÖ Trade ZRO-USD closed (PnL: $0.00)
13:54:13 [DEBUG] < PING '[ping a56161728de429b8287d6707ba12ed01e652f7bd1...8fa812185bf11262b ping]' [text, 76 bytes]
13:54:13 [DEBUG] > PONG '[ping a56161728de429b8287d6707ba12ed01e652f7bd1...8fa812185bf11262b ping]' [text, 76 bytes]
13:54:13 [WARNING] üßπ Cleaned 2 ghost trades from DB
13:54:13 [INFO] üìä Final state: 0 open trades
13:54:14 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            UPDATE trades \n            SET status = 'closed', \n                closed_at = ?, \n                pnl = ?,\n                funding_collected = ?\n            WHERE symbol = ?  AND status = 'open'\n        ", (1764507254373, 0, 0, 'ZRO-USD'))
13:54:14 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, "\n            UPDATE trades \n            SET status = 'closed', \n                closed_at = ?, \n                pnl = ?,\n                funding_collected = ?\n            WHERE symbol = ?  AND status = 'open'\n        ", (1764507254373, 0, 0, 'ZRO-USD')) completed
13:54:14 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>)
13:54:14 [DEBUG] üìù Flushed 1 writes
13:54:14 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>) completed
13:54:14 [DEBUG] üìù Flushed 1 writes in 0.0ms
13:54:14 [DEBUG] < PING '[ping 6220b4e19c69d1d2742b95225630444468ef9350c...557b358c5e49b696a ping]' [text, 76 bytes]
13:54:14 [DEBUG] > PONG '[ping 6220b4e19c69d1d2742b95225630444468ef9350c...557b358c5e49b696a ping]' [text, 76 bytes]
13:54:15 [INFO] ‚è≥ Waiting for WebSocket connections...
13:54:15 [INFO] Starting emergency_position_cleanup (interval=3600s, max_age_hours=48.0)
13:54:15 [DEBUG] Fetching fresh positions (force=True, cache_age=1764507255.5s)
13:54:15 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:16 [DEBUG] < PING '[ping 86cc278b53f33bd63b9019c25b0dd8ae19127c013...c358f48faf14d25e5 ping]' [text, 76 bytes]
13:54:16 [DEBUG] > PONG '[ping 86cc278b53f33bd63b9019c25b0dd8ae19127c013...c358f48faf14d25e5 ping]' [text, 76 bytes]
13:54:16 [INFO] Lighter: Found 0 open positions
13:54:16 [INFO] üìä Positions: X10=0, Lighter=0
13:54:17 [DEBUG] < PING '[ping ac6b5af891248b098ed9d40fee754ad44fb1c862e...4d120856d0ee94c68 ping]' [text, 76 bytes]
13:54:17 [DEBUG] > PONG '[ping ac6b5af891248b098ed9d40fee754ad44fb1c862e...4d120856d0ee94c68 ping]' [text, 76 bytes]
13:54:18 [DEBUG] < PING '[ping 516b39667d80a6d77de3054f89dae56ee2cb4b5bc...46d6468bd4b4f8ae9 ping]' [text, 76 bytes]
13:54:18 [DEBUG] > PONG '[ping 516b39667d80a6d77de3054f89dae56ee2cb4b5bc...46d6468bd4b4f8ae9 ping]' [text, 76 bytes]
13:54:19 [DEBUG] < PING '[ping 24725a431c6bacc8a790cadb99948413464f7c201...29247731a60c47b05 ping]' [text, 76 bytes]
13:54:19 [DEBUG] > PONG '[ping 24725a431c6bacc8a790cadb99948413464f7c201...29247731a60c47b05 ping]' [text, 76 bytes]
13:54:20 [INFO] üîç Verifying WebSocket health...
13:54:21 [DEBUG] < PING '[ping 30b5414ddfbd6e4e7cabdf8630e9a92ab129b8d69...5fbf3b24927023d17 ping]' [text, 76 bytes]
13:54:21 [DEBUG] > PONG '[ping 30b5414ddfbd6e4e7cabdf8630e9a92ab129b8d69...5fbf3b24927023d17 ping]' [text, 76 bytes]
13:54:22 [INFO] üìä Cache status: X10=78 prices, Lighter=118 prices
13:54:22 [INFO] ‚úÖ WebSocket streams healthy - receiving price updates
13:54:22 [INFO] üìä Refreshing missing prices...
13:54:22 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:54:22 [DEBUG] < PING '[ping 207be47abe158c98ea0f90cebd4389f6a6e0a7c9f...7b2a1311a0deec271 ping]' [text, 76 bytes]
13:54:22 [DEBUG] > PONG '[ping 207be47abe158c98ea0f90cebd4389f6a6e0a7c9f...7b2a1311a0deec271 ping]' [text, 76 bytes]
13:54:23 [DEBUG] < PING '[ping be7f7075e82a91e8f2a804401277116f6013b6c91...a56b0357b655fae2b ping]' [text, 76 bytes]
13:54:23 [DEBUG] > PONG '[ping be7f7075e82a91e8f2a804401277116f6013b6c91...a56b0357b655fae2b ping]' [text, 76 bytes]
13:54:25 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
13:54:25 [INFO] BOT L√ÑUFT 24/7 ‚Äì Tasks √ºberwacht | Ctrl+C = Stop
13:54:25 [INFO] Logic Loop gestartet ‚Äì REFRESH alle 3s
13:54:25 [INFO] üîç üíé ARB Scanning 70 pairs. Open symbols to skip: set()
13:54:25 [DEBUG] Price cache status: X10=70/70, Lighter=66/70
13:54:25 [INFO] üîç Scanning 70 pairs. Lighter markets: 118, X10 markets: 91
13:54:25 [DEBUG] üìä X10 Funding Cache refresh (current=91)
13:54:25 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:54:25 [INFO] üõ°Ô∏è Trade Management Loop gestartet
13:54:25 [DEBUG] < PING '[ping c6ed55ef4ee9d74ff1a29a9cd319b039c89b64632...93e99e1327cf65561 ping]' [text, 76 bytes]
13:54:25 [DEBUG] > PONG '[ping c6ed55ef4ee9d74ff1a29a9cd319b039c89b64632...93e99e1327cf65561 ping]' [text, 76 bytes]
13:54:25 [DEBUG] XAG-USD: Missing prices (X=56.408, L=None)
13:54:25 [DEBUG] MKR-USD: Missing rates (L=None, X=1.3e-05)
13:54:25 [DEBUG] MKR-USD: Missing prices (X=1663.9, L=None)
13:54:25 [DEBUG] XAU-USD: Missing prices (X=4239.87, L=None)
13:54:25 [DEBUG] USDJPY-USD: Missing prices (X=0.0, L=None)
13:54:25 [INFO] ‚úÖ Found 0 opportunities with predictions (farm_mode=False)
13:54:25 [INFO] ‚ö†Ô∏è Keine Prediction-Opportunities, nutze Fallback mit echten Funding Rates...
13:54:25 [INFO]  Volatility Monitor initialized: Low<3.0%, Normal<10.0%, High<20.0%, Hard Cap<50.0%
13:54:25 [INFO] Rebate discount ONDO-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount BERA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount S-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount STRK-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount EDEN-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount TRX-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount MON-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount WIF-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] ‚õî Skip XAG-USD: TradFi/FX
13:54:25 [INFO] Rebate discount FIL-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] Skip FIL-USD: Invalid prices (X=0.0, L=1.61723)
13:54:25 [INFO] Rebate discount 1000PEPE-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount TAO-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount XPL-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ASTER-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount XRP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount TRUMP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount APEX-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount MNT-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount AAVE-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount PENGU-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount LTC-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üîç DEBUG RESOLV-USD: rl=-0.00461600, rx=-0.00054200, net=-0.00407400, apy=446.1%
13:54:25 [INFO] Rebate discount RESOLV-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üíé RESOLV-USD | APY: 446.1%
13:54:25 [INFO] Rebate discount PUMP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount LDO-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount SOL-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount BNB-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ADA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] Skip MKR-USD: Missing rates (L=None, X=1.3e-05)
13:54:25 [INFO] Rebate discount WLFI-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount BTC-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount IP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount TON-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] ‚õî Skip XAU-USD: TradFi/FX
13:54:25 [DEBUG] ‚õî Skip SPX-USD: TradFi/FX
13:54:25 [DEBUG] ‚õî Skip MEGA-USD: In BLACKLIST
13:54:25 [INFO] üîç DEBUG KAITO-USD: rl=-0.00100800, rx=-0.00012200, net=-0.00088600, apy=97.0%
13:54:25 [INFO] Rebate discount KAITO-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üíé KAITO-USD | APY: 97.0%
13:54:25 [INFO] Rebate discount DOT-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] Skip DOT-USD: Invalid prices (X=0.0, L=2.26615)
13:54:25 [INFO] Rebate discount SUI-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ETH-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount OP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount LINK-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount AVAX-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ENA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount BCH-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] Skip BCH-USD: Invalid prices (X=0.0, L=543.358)
13:54:25 [INFO] Rebate discount GRASS-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount CRV-USD: -8.00% APY -> threshold 5.00%
13:54:25 [DEBUG] ‚õî Skip AERO-USD: In BLACKLIST
13:54:25 [INFO] Rebate discount PENDLE-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üîç DEBUG ZRO-USD: rl=-0.00065600, rx=-0.00008700, net=-0.00056900, apy=62.3%
13:54:25 [INFO] Rebate discount ZRO-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üíé ZRO-USD | APY: 62.3%
13:54:25 [INFO] Rebate discount HYPE-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount VIRTUAL-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üîç DEBUG ZORA-USD: rl=-0.00269600, rx=-0.00032500, net=-0.00237100, apy=259.6%
13:54:25 [INFO] Rebate discount ZORA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üíé ZORA-USD | APY: 259.6%
13:54:25 [INFO] Rebate discount DOGE-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount NEAR-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ARB-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount EIGEN-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount POPCAT-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount 1000SHIB-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount ZEC-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount SEI-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount FARTCOIN-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount WLD-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üîç DEBUG APT-USD: rl=-0.00081600, rx=-0.00007000, net=-0.00074600, apy=81.7%
13:54:25 [INFO] Rebate discount APT-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] üíé APT-USD | APY: 81.7%
13:54:25 [INFO] Rebate discount JUP-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount USDJPY-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount TIA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount LINEA-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount AVNT-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount 1000BONK-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] Rebate discount UNI-USD: -8.00% APY -> threshold 5.00%
13:54:25 [INFO] ‚úÖ Found 51 opportunities from 63 valid pairs (farm_mode=False, scanned=70)
13:54:25 [INFO] üéØ Found 3 opportunities, executing best...
13:54:25 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
13:54:26 [DEBUG] < PING '[ping 7a3922482d5ee6d9ccf63cf142f101c29e7e09c6a...c0eb57db6c11146e4 ping]' [text, 76 bytes]
13:54:26 [DEBUG] > PONG '[ping 7a3922482d5ee6d9ccf63cf142f101c29e7e09c6a...c0eb57db6c11146e4 ping]' [text, 76 bytes]
13:54:26 [DEBUG] Lighter Balance: Raw=$302.20, Safe=$287.09
13:54:26 [INFO] X10: Detected balance = $306.35
13:54:26 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:27 [DEBUG] > PING 29 d5 d9 77 [binary, 4 bytes]
13:54:27 [DEBUG] % sent keepalive ping
13:54:27 [DEBUG] < PONG 29 d5 d9 77 [binary, 4 bytes]
13:54:27 [DEBUG] % received keepalive pong
13:54:27 [INFO] Lighter: Found 0 open positions
13:54:27 [INFO] üí∞ Balance: X10=$306.4 (free=$303.4), Lit=$287.1 (free=$284.1) | DB_Trades=0, Real_Positions=0, Locked=$0/ex
13:54:27 [INFO] üöÄ Launching trade for RESOLV-USD (APY=446.1%)
13:54:27 [INFO] FundingPredictorV2 initialized with BTC Correlation
13:54:27 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
13:54:27 [DEBUG] < PING '[ping a4129973ca8b105b5b083a58a307efdb1e1b097ad...34c7f2a80ce76fc44 ping]' [text, 76 bytes]
13:54:27 [DEBUG] > PONG '[ping a4129973ca8b105b5b083a58a307efdb1e1b097ad...34c7f2a80ce76fc44 ping]' [text, 76 bytes]
13:54:28 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 82 Preise
13:54:28 [DEBUG] X10: Funding Refresh OK, cache=91
13:54:28 [DEBUG] üìä Lighter Funding Cache refresh (current=115)
13:54:28 [INFO] üé≤ KellyPositionSizer initialized (Safety=0.25, MaxFraction=0.1)
13:54:28 [INFO] üé∞ KELLY RESOLV-USD: win_rate=80.0%, kelly_fraction=0.6000, safe_fraction=0.0500, confidence=LOW, samples=0
13:54:28 [INFO] üìä KELLY SIZE RESOLV-USD: $14.4 (kelly-optimized)
13:54:28 [INFO] üöÄ Opening RESOLV-USD: Size=$14.4 (Min=$11.0)
13:54:28 [INFO] üîÑ [PARALLEL] RESOLV-USD: Lighter POST-ONLY first
13:54:28 [INFO] üöÄ LIGHTER OPEN RESOLV-USD: side=SELL, size_usd=$14.35, price=$0.075872
13:54:28 [DEBUG] Create Order Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"MarketIndex":51,"ClientOrderIndex":1764507282740,"BaseAmount":191,"Price":75416,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1766926468092,"ExpiredAt":1764507867092,"Nonce":1732,"Sig":"uf+pgexxJoAWP7NsPII0XyRGmXhqCdGT7+dFdY2OznY5M2XmnQiTQVPSFpEaq1qYuLym2edTUFEx1OP7KgJkn5thXRuU08rT5S6z7JJpOCU="}
13:54:28 [INFO] üîÑ [PARALLEL] RESOLV-USD: X10 MARKET order
13:54:28 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:54:28 [INFO] üöÄ Launching trade for ZORA-USD (APY=259.6%)
13:54:28 [DEBUG] Skip ZORA-USD: Min Req $25.00 > Max Config $20.0
13:54:28 [DEBUG] Lighter: Loaded 389 funding rates
13:54:28 [DEBUG] Lighter: Funding Refresh OK, cache=118
13:54:28 [DEBUG] Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='f3a81fc456af59d9925ab10b44cb49db1c1b763aa3054b52372ff951789deed6ae5cb3e64f7e1d01' predicted_execution_time_ms=1764507262326 additional_properties={}
13:54:28 [INFO] Lighter Order: f3a81fc456af59d9925ab10b44cb49db1c1b763aa3054b52372ff951789deed6ae5cb3e64f7e1d01
13:54:28 [INFO] üöÄ Launching trade for KAITO-USD (APY=97.0%)
13:54:28 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
13:54:29 [DEBUG] < PING '[ping 7cc831aca0f191e67e3e5b1f3a9478aee85a0425d...c2fcb46a8b8b9566e ping]' [text, 76 bytes]
13:54:29 [DEBUG] > PONG '[ping 7cc831aca0f191e67e3e5b1f3a9478aee85a0425d...c2fcb46a8b8b9566e ping]' [text, 76 bytes]
13:54:29 [INFO] ‚úÖ Launched 3 trade tasks this cycle
13:54:29 [DEBUG] Lighter Balance: Raw=$302.18, Safe=$287.07
13:54:29 [INFO] üé∞ KELLY KAITO-USD: win_rate=80.0%, kelly_fraction=0.6000, safe_fraction=0.0500, confidence=LOW, samples=0
13:54:29 [INFO] üìä KELLY SIZE KAITO-USD: $13.6 (kelly-optimized)
13:54:29 [INFO] üöÄ Opening KAITO-USD: Size=$13.6 (Min=$11.0)
13:54:29 [INFO] üîÑ [PARALLEL] KAITO-USD: Lighter POST-ONLY first
13:54:29 [INFO] üöÄ LIGHTER OPEN KAITO-USD: side=SELL, size_usd=$13.60, price=$0.705940
13:54:29 [DEBUG] Create Order Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"MarketIndex":33,"ClientOrderIndex":1764507340762,"BaseAmount":194,"Price":70170,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1766926469922,"ExpiredAt":1764507868922,"Nonce":1733,"Sig":"/b7JqFvMmpbSFTBnaBdp3/QwcnPD9jFKMfKHJ+iyfIZ+a7J/+yT6FDsSfaxtRNz8RuN0EMxgzl9QDWkKqXApANpo8jd/6kgN22vx2Q2GEUY="}
13:54:29 [INFO] üîÑ [PARALLEL] KAITO-USD: X10 MARKET order
13:54:30 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
13:54:30 [DEBUG] Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='3887f118d7793e143a304619dc925f3bb2810c57eeeff22ec63c48bb2f44518816e08b664519ac62' predicted_execution_time_ms=1764507264155 additional_properties={}
13:54:30 [INFO] Lighter Order: 3887f118d7793e143a304619dc925f3bb2810c57eeeff22ec63c48bb2f44518816e08b664519ac62
13:54:30 [DEBUG] < PING '[ping 6f9908d275db080990439d81bee09c3bd425c139a...4af8fe5eb3c9fd2c6 ping]' [text, 76 bytes]
13:54:30 [DEBUG] > PONG '[ping 6f9908d275db080990439d81bee09c3bd425c139a...4af8fe5eb3c9fd2c6 ping]' [text, 76 bytes]
13:54:30 [DEBUG] Placing an order: id=138241108558314707727222566168161119998411539544176613973340804439057267805
13:54:30 [DEBUG] Sending POST https://api.starknet.extended.exchange/api/v1/user/order, headers={<RequestHeader.ACCEPT: 'Accept'>: 'application/json', <RequestHeader.CONTENT_TYPE: 'Content-Type'>: 'application/json', <RequestHeader.USER_AGENT: 'User-Agent'>: 'X10PythonTradingClient/0.0.17', <RequestHeader.API_KEY: 'X-Api-Key'>: 'a1c9207f79f0e57ddc454bf1e16dbe49'}
13:54:31 [DEBUG] < PING '[ping 51437198d8e051c69d4cdbee9009bbeb5087eab1a...7d0b0d51f3510911f ping]' [text, 76 bytes]
13:54:31 [DEBUG] > PONG '[ping 51437198d8e051c69d4cdbee9009bbeb5087eab1a...7d0b0d51f3510911f ping]' [text, 76 bytes]
13:54:32 [INFO] üîç üíé ARB Scanning 70 pairs. Open symbols to skip: set()
13:54:32 [DEBUG] Price cache status: X10=70/70, Lighter=66/70
13:54:32 [INFO] üîç Scanning 70 pairs. Lighter markets: 118, X10 markets: 91
13:54:32 [INFO]  X10 Order: 1995114193590636544
13:54:32 [INFO] ‚úÖ [PARALLEL] RESOLV-USD: Both legs filled in 4188ms
13:54:32 [DEBUG] üìù Trade added to state: RESOLV-USD
13:54:32 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('RESOLV-USD', 'BUY', 'SELL', 0, 0.076021461274, 0.075872, 'open', 0, 1764507272241, 'Main/Main', None, None))
13:54:32 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('RESOLV-USD', 'BUY', 'SELL', 0, 0.076021461274, 0.075872, 'open', 0, 1764507272241, 'Main/Main', None, None)) completed
13:54:32 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>)
13:54:32 [DEBUG] üìù Flushed 1 writes
13:54:32 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>) completed
13:54:32 [DEBUG] üìù Flushed 1 writes in 0.0ms
13:54:32 [DEBUG] XAG-USD: Missing prices (X=56.408, L=None)
13:54:32 [DEBUG] Fetching fresh positions (force=False, cache_age=16.8s)
13:54:32 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:32 [DEBUG] > PING 62 35 f2 14 [binary, 4 bytes]
13:54:32 [DEBUG] % sent keepalive ping
13:54:32 [DEBUG] MKR-USD: Missing prices (X=1663.9, L=None)
13:54:32 [DEBUG] XAU-USD: Missing prices (X=4239.87, L=None)
13:54:32 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995114194428497923}' [449 bytes]
13:54:32 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":false,"ord...d":1995114194428497922}' [612 bytes]
13:54:32 [DEBUG] < TEXT '{"type":"TRADE","data":{"isSnapshot":false,"tra...d":1995114194428497921}' [489 bytes]
13:54:32 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":false,"...:1764507266047,"seq":7}' [482 bytes]
13:54:32 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995114194462052352}' [462 bytes]
13:54:32 [DEBUG] USDJPY-USD: Missing prices (X=0.0, L=None)
13:54:32 [INFO] ‚úÖ Found 0 opportunities with predictions (farm_mode=False)
13:54:32 [INFO] ‚ö†Ô∏è Keine Prediction-Opportunities, nutze Fallback mit echten Funding Rates...
13:54:32 [INFO]  VOL REGIME: ONDO-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ONDO-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: BERA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount BERA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: S-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount S-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: STRK-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount STRK-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: EDEN-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount EDEN-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: TRX-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount TRX-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: MON-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount MON-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: WIF-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount WIF-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] ‚õî Skip XAG-USD: TradFi/FX
13:54:32 [INFO] Rebate discount FIL-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] Skip FIL-USD: Invalid prices (X=0.0, L=1.61723)
13:54:32 [INFO]  VOL REGIME: 1000PEPE-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount 1000PEPE-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: TAO-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount TAO-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: XPL-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount XPL-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ASTER-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ASTER-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: XRP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount XRP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: TRUMP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount TRUMP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: APEX-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount APEX-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: MNT-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount MNT-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: AAVE-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount AAVE-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: PENGU-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount PENGU-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: LTC-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount LTC-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: RESOLV-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] üîç DEBUG RESOLV-USD: rl=-0.00459200, rx=-0.00054200, net=-0.00405000, apy=443.5%
13:54:32 [INFO] Rebate discount RESOLV-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: PUMP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount PUMP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: LDO-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount LDO-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: SOL-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount SOL-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: BNB-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount BNB-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ADA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ADA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO] Rebate discount MKR-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: WLFI-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount WLFI-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: BTC-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount BTC-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: IP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount IP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: TON-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount TON-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] ‚õî Skip XAU-USD: TradFi/FX
13:54:32 [DEBUG] ‚õî Skip SPX-USD: TradFi/FX
13:54:32 [DEBUG] ‚õî Skip MEGA-USD: In BLACKLIST
13:54:32 [INFO]  VOL REGIME: KAITO-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] üîç DEBUG KAITO-USD: rl=-0.00101600, rx=-0.00012200, net=-0.00089400, apy=97.9%
13:54:32 [INFO] Rebate discount KAITO-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO] Rebate discount DOT-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] Skip DOT-USD: Invalid prices (X=0.0, L=2.26615)
13:54:32 [INFO]  VOL REGIME: SUI-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount SUI-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ETH-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ETH-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: OP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount OP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: LINK-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount LINK-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: AVAX-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount AVAX-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ENA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ENA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO] Rebate discount BCH-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] Skip BCH-USD: Invalid prices (X=0.0, L=543.358)
13:54:32 [INFO]  VOL REGIME: GRASS-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount GRASS-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: CRV-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount CRV-USD: -8.00% APY -> threshold 5.00%
13:54:32 [DEBUG] ‚õî Skip AERO-USD: In BLACKLIST
13:54:32 [INFO]  VOL REGIME: PENDLE-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount PENDLE-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ZRO-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] üîç DEBUG ZRO-USD: rl=-0.00064000, rx=-0.00008700, net=-0.00055300, apy=60.6%
13:54:32 [INFO] Rebate discount ZRO-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: HYPE-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount HYPE-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: VIRTUAL-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount VIRTUAL-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ZORA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] üîç DEBUG ZORA-USD: rl=-0.00268800, rx=-0.00032500, net=-0.00236300, apy=258.7%
13:54:32 [INFO] Rebate discount ZORA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: DOGE-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount DOGE-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: NEAR-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount NEAR-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ARB-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ARB-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: EIGEN-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount EIGEN-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: POPCAT-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount POPCAT-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: 1000SHIB-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount 1000SHIB-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: ZEC-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount ZEC-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: SEI-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount SEI-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: FARTCOIN-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount FARTCOIN-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: WLD-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount WLD-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: APT-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] üîç DEBUG APT-USD: rl=-0.00083200, rx=-0.00007000, net=-0.00076200, apy=83.4%
13:54:32 [INFO] Rebate discount APT-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: JUP-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount JUP-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO] Rebate discount USDJPY-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: TIA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount TIA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: LINEA-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount LINEA-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: AVNT-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount AVNT-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: 1000BONK-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount 1000BONK-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO]  VOL REGIME: UNI-USD UNKNOWN -> LOW (24h Range: 0.00%)
13:54:32 [INFO] Rebate discount UNI-USD: -8.00% APY -> threshold 5.00%
13:54:32 [INFO] ‚úÖ Found 51 opportunities from 63 valid pairs (farm_mode=False, scanned=70)
13:54:32 [INFO] üéØ Found 3 opportunities, executing best...
13:54:32 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
13:54:32 [DEBUG] < PONG 62 35 f2 14 [binary, 4 bytes]
13:54:32 [DEBUG] % received keepalive pong
13:54:32 [DEBUG] Placing an order: id=1240867201296625675059148526178440805466551360062990084132250851550982495770
13:54:32 [DEBUG] Sending POST https://api.starknet.extended.exchange/api/v1/user/order, headers={<RequestHeader.ACCEPT: 'Accept'>: 'application/json', <RequestHeader.CONTENT_TYPE: 'Content-Type'>: 'application/json', <RequestHeader.USER_AGENT: 'User-Agent'>: 'X10PythonTradingClient/0.0.17', <RequestHeader.API_KEY: 'X-Api-Key'>: 'a1c9207f79f0e57ddc454bf1e16dbe49'}
13:54:32 [INFO] Lighter: Found 2 open positions
13:54:32 [INFO] üìä Positions: X10=1, Lighter=2
13:54:32 [DEBUG] X10 positions: ['RESOLV-USD']
13:54:32 [DEBUG] Lighter positions: ['KAITO-USD', 'RESOLV-USD']
13:54:33 [INFO]  X10 Order: 1995114197063921664
13:54:33 [INFO] ‚úÖ [PARALLEL] KAITO-USD: Both legs filled in 3187ms
13:54:33 [DEBUG] üìù Trade added to state: KAITO-USD
13:54:33 [DEBUG] < PING '[ping 9336aa77c72a5b3c45c643b5b952d3d027693b6dc...54a6138f10b9ee316 ping]' [text, 76 bytes]
13:54:33 [DEBUG] > PONG '[ping 9336aa77c72a5b3c45c643b5b952d3d027693b6dc...54a6138f10b9ee316 ping]' [text, 76 bytes]
13:54:33 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":false,"ord...d":1995114197901381634}' [608 bytes]
13:54:33 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995114197901381635}' [463 bytes]
13:54:33 [DEBUG] < TEXT '{"type":"TRADE","data":{"isSnapshot":false,"tra...d":1995114197901381633}' [488 bytes]
13:54:33 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":false,"...1764507266874,"seq":12}' [477 bytes]
13:54:33 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995114197930741760}' [463 bytes]
13:54:33 [DEBUG] Using cached positions (age: 1.5s)
13:54:34 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('KAITO-USD', 'BUY', 'SELL', 0, 0.706560052499, 0.70594, 'open', 0, 1764507274077, 'Main/Main', None, None))
13:54:34 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020ED64A9E40>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('KAITO-USD', 'BUY', 'SELL', 0, 0.706560052499, 0.70594, 'open', 0, 1764507274077, 'Main/Main', None, None)) completed
13:54:34 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>)
13:54:34 [DEBUG] üìù Flushed 1 writes
13:54:34 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020ED64A9E40>) completed
13:54:34 [DEBUG] üìù Flushed 1 writes in 0.0ms
13:54:34 [DEBUG] < PING '[ping 86982d4ba15966260589298e4cc8d1e2db883ae25...7103c1478470fa495 ping]' [text, 76 bytes]
13:54:34 [DEBUG] > PONG '[ping 86982d4ba15966260589298e4cc8d1e2db883ae25...7103c1478470fa495 ping]' [text, 76 bytes]
13:54:34 [DEBUG] Lighter Balance: Raw=$302.19, Safe=$287.08
13:54:34 [INFO] X10: Detected balance = $306.38
13:54:34 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:34 [DEBUG] Using cached positions (age: 2.6s)
13:54:35 [INFO] Lighter: Found 2 open positions
13:54:35 [INFO] üí∞ Balance: X10=$306.4 (free=$293.8), Lit=$287.1 (free=$274.5) | DB_Trades=0, Real_Positions=2, Locked=$10/ex
13:54:35 [INFO] üöÄ Launching trade for RESOLV-USD (APY=443.5%)
13:54:35 [DEBUG] < PING '[ping 6ecadb0f7842e494dc2ed68a84fd9001bb0e1d4b8...930814cf3f7ffad90 ping]' [text, 76 bytes]
13:54:35 [DEBUG] > PONG '[ping 6ecadb0f7842e494dc2ed68a84fd9001bb0e1d4b8...930814cf3f7ffad90 ping]' [text, 76 bytes]
13:54:35 [DEBUG] Using cached positions (age: 3.6s)
13:54:36 [INFO] üöÄ Launching trade for ZORA-USD (APY=258.7%)
13:54:36 [DEBUG] Skip ZORA-USD: Min Req $25.00 > Max Config $20.0
13:54:36 [INFO] üöÄ Launching trade for KAITO-USD (APY=97.9%)
13:54:36 [DEBUG] Using cached positions (age: 4.6s)
13:54:37 [DEBUG] < PING '[ping b42b9165990815c9b4e9cd48d2976a3c69e5ce7d0...75bd75d63d690350d ping]' [text, 76 bytes]
13:54:37 [DEBUG] > PONG '[ping b42b9165990815c9b4e9cd48d2976a3c69e5ce7d0...75bd75d63d690350d ping]' [text, 76 bytes]
13:54:37 [INFO] ‚úÖ Launched 3 trade tasks this cycle
13:54:37 [DEBUG] Fetching fresh positions (force=False, cache_age=5.6s)
13:54:37 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
13:54:38 [INFO] Lighter: Found 2 open positions
13:54:38 [INFO] üìä Positions: X10=2, Lighter=2
13:54:38 [DEBUG] X10 positions: ['RESOLV-USD', 'KAITO-USD']
13:54:38 [DEBUG] Lighter positions: ['KAITO-USD', 'RESOLV-USD']
13:54:38 [DEBUG] < PING '[ping 4b9873842bb9c2893885ddc46e4970246657fe51a...9d23704989efc4d17 ping]' [text, 76 bytes]
13:54:38 [DEBUG] > PONG '[ping 4b9873842bb9c2893885ddc46e4970246657fe51a...9d23704989efc4d17 ping]' [text, 76 bytes]
13:54:39 [DEBUG] Using cached positions (age: 1.5s)
13:54:39 [DEBUG] < PING '[ping fa1fa7a8a123afe8a68addad24341e333412f89ac...110c6093941b59dcc ping]' [text, 76 bytes]
13:54:39 [DEBUG] > PONG '[ping fa1fa7a8a123afe8a68addad24341e333412f89ac...110c6093941b59dcc ping]' [text, 76 bytes]
13:54:40 [INFO] Shutdown angefordert ‚Äì beende sauber...
13:54:40 [INFO] SHUTDOWN_FLAG gesetzt - keine neuen Trades mehr
13:54:40 [INFO] Cancelling main tasks...
13:54:40 [INFO] Cancelling symbol tasks...
13:54:40 [INFO] Stopping Managers...
13:54:40 [DEBUG] > CLOSE 1000 (OK) [2 bytes]
13:54:40 [DEBUG] = connection is CLOSING
13:54:40 [DEBUG] > CLOSE 1000 (OK) [2 bytes]
13:54:40 [DEBUG] = connection is CLOSING
13:54:40 [DEBUG] < CLOSE 1000 (OK) [2 bytes]
13:54:40 [DEBUG] < EOF
13:54:40 [DEBUG] > EOF
13:54:40 [DEBUG] = connection is CLOSED
13:54:40 [DEBUG] x closing TCP connection
13:54:40 [INFO] üîå [lighter] WebSocket stopped
13:54:40 [DEBUG] < CLOSE 1000 (OK) [2 bytes]
13:54:42 [INFO] emergency_position_cleanup cancelled
13:54:42 [INFO] üñäÔ∏è Database write loop stopped
13:54:42 [INFO] üìù State writer loop stopped
