{
  "permissions": {
    "allow": [
      "mcp__spawner__spawner_load",
      "Skill(sc:load)",
      "Skill(sc:load:*)",
      "mcp__serena__activate_project",
      "Bash(python -m pytest:*)",
      "mcp__serena__check_onboarding_performed",
      "mcp__serena__get_symbols_overview",
      "mcp__serena__list_dir",
      "mcp__serena__find_symbol",
      "mcp__serena__write_memory",
      "Bash(python:*)",
      "Bash(bash:*)",
      "Bash(pip install:*)",
      "Bash(superclaude install:*)",
      "Bash(superclaude doctor:*)",
      "Bash(claude mcp list:*)",
      "Bash(pip show:*)",
      "mcp__serena__list_memories",
      "mcp__serena__read_memory",
      "Bash(ls:*)",
      "mcp__serena__think_about_collected_information",
      "Bash(cd:*)",
      "Bash(findstr:*)",
      "Bash(powershell:*)",
      "Bash(npm config get:*)",
      "mcp__serena__initial_instructions",
      "Bash(pytest:*)",
      "mcp__serena__get_current_config",
      "mcp__serena__read",
      "mcp__serena__list",
      "Bash(timeout:*)",
      "mcp__serena__find",
      "Bash(py:*)",
      "Bash(venv\\Scripts\\python:*)",
      "mcp__serena__get",
      "Skill(sc:task)",
      "Skill(sc:test)",
      "Skill(sc:analyze)",
      "Skill(sc:implement)",
      "Bash(dir:*)",
      "Bash(git rm:*)",
      "Bash(if not exist \"tests\\unit\\adapters\\lighter\" mkdir \"tests\\unit\\adapters\\lighter\")",
      "Bash(git add:*)",
      "Bash(0\" checks, treating account_index=0 as valid \\(first account\\).\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git reset:*)",
      "Bash(git commit:*)",
      "mcp__serena__think",
      "Skill(sc:index-repo)",
      "Skill(sc:index)",
      "Bash(set PYTHONPATH=%CD%src:*)",
      "mcp__web-reader__webReader",
      "WebSearch",
      "Skill(sc:save)",
      "Skill(sc:research)",
      "mcp__web-search-prime__webSearchPrime",
      "Bash(npx -y tavily-mcp@0.1.2 --help:*)",
      "Bash(setx:*)",
      "Bash(set:*)",
      "mcp__tavily__tavily-search",
      "Bash(superclaude:*)",
      "mcp__serena__memory",
      "Bash(if not exist \"tests\\unit\\services\\historical\" mkdir \"tests\\unit\\services\\historical\")",
      "mcp__tavily__tavily-extract",
      "Bash(if not exist \"tests\\unit\\config\" mkdir \"tests\\unit\\config\")",
      "mcp__sequential-thinking__sequentialthinking",
      "mcp__plugin_playwright_playwright__browser_navigate",
      "mcp__plugin_playwright_playwright__browser_click",
      "mcp__plugin_playwright_playwright__browser_close",
      "Bash(test:*)",
      "Bash(wc:*)",
      "mcp__serena__create_text_file",
      "Skill(sc:recommend)",
      "Bash(if not exist \"tests\\unit\\services\\execution\" mkdir \"tests\\unit\\services\\execution\")",
      "Bash(if:*)",
      "Bash(then mv API_DOCUMENTATION.md docs/api/)",
      "Bash(fi:*)",
      "Bash(cat:*)",
      "mcp__zread__get_repo_structure",
      "Bash(git -C \"C:\\Users\\koopm\\funding-bot\" ls-files --others --exclude-standard libs/)",
      "Skill(sc:troubleshoot)",
      "Bash(exit:*)",
      "Bash(for:*)",
      "Bash(do if [ -f \"$file\" ])",
      "Bash(then if grep -q \"get_logger\\(\" \"$file\")",
      "Bash(then if ! grep -q \"from funding_bot.observability.logging import get_logger\" \"$file\")",
      "Bash(! grep -q \"from funding_bot.observability.logging import\" \"$file\")",
      "Bash(then echo \"Missing import: $file\")",
      "Bash(done:*)",
      "Bash(curl:*)",
      "mcp__zread__read_file",
      "Bash(where superclaude)",
      "Bash(where npm)",
      "mcp__serena__search_for_pattern",
      "mcp__zread__search_doc",
      "Bash(export:*)",
      "Bash(find:*)",
      "mcp__serena__replace",
      "Bash(env:*)",
      "Bash(powershell.exe:*)",
      "mcp__plugin_context7_context7__resolve-library-id",
      "mcp__plugin_context7_context7__query-docs",
      "WebFetch(domain:apidocs.lighter.xyz)",
      "WebFetch(domain:docs.lighter.xyz)",
      "WebFetch(domain:api.docs.extended.exchange)",
      "WebFetch(domain:github.com)",
      "mcp__context7__resolve-library-id",
      "Bash(Select-String -Pattern \"x10|extended\")",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:pypi.org)",
      "Bash(ruff check:*)",
      "WebFetch(domain:docs.extended.exchange)",
      "mcp__context7__query-docs",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" status --short)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" diff --stat src/funding_bot/services/execution_impl_sizing.py src/funding_bot/services/positions/close.py)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" add src/funding_bot/services/execution_impl_sizing.py src/funding_bot/services/positions/close.py)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" commit -m \"$\\(cat <<''EOF''\nrefactor: Phase 2.5.1 - extract helpers from top 3 monster functions\n\nPhase 2.5.1a: _execute_impl_sizing \\(310 â†’ ~120 lines, 61% reduction\\)\n- Add 6 dataclasses: BalanceData, LeverageConfig, RiskCapacity,\n  SlotAllocation, DepthGateConfig, SizingResult\n- Extract 8 helpers: _fetch_balances, _calculate_leverage,\n  _calculate_risk_capacity, _calculate_slot_allocation,\n  _load_depth_gate_config, _apply_depth_cap, _calculate_mid_price,\n  _apply_margin_adjustment\n\nPhase 2.5.1b: _execute_lighter_close_grid_step \\(289 â†’ 113 lines, 61% reduction\\)\n- Extract 5 helpers: _calculate_grid_price_levels, _place_grid_orders,\n  _process_order_fill_delta, _check_grid_order_status,\n  _cancel_remaining_grid_orders\n\nPhase 2.5.1c: _rebalance_trade \\(288 â†’ ~100 lines, 65% reduction\\)\n- Extract 5 helpers: _calculate_rebalance_target, _get_rebalance_price,\n  _execute_rebalance_maker, _execute_rebalance_ioc, _update_leg_after_fill\n\nTotal reduction: 887 â†’ ~333 lines \\(62% average reduction\\)\nAll 302 unit tests passing.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" diff --stat src/funding_bot/services/execution_impl_pre.py src/funding_bot/services/execution_leg1_attempts.py src/funding_bot/services/market_data/fresh.py)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" add src/funding_bot/services/execution_impl_pre.py src/funding_bot/services/execution_leg1_attempts.py src/funding_bot/services/market_data/fresh.py)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" commit -m \"$\\(cat <<''EOF''\nrefactor: Phase 2.5.2 - extract helpers from execution and market data modules\n\nPhase 2.5.2a: _execute_impl_pre \\(281 â†’ ~120 lines, 57% reduction\\)\n- Add 3 dataclasses: SmartPricingConfig, SpreadCheckConfig, SpreadCheckResult\n- Extract 6 helpers: _load_spread_check_config, _apply_smart_pricing_spread,\n  _revalidate_orderbook_for_guard, _build_spread_kpi_data,\n  _load_preflight_liquidity_config, _build_liquidity_kpi_data,\n  _run_preflight_liquidity_check\n\nPhase 2.5.2b: _execute_leg1_attempts \\(274 â†’ ~140 lines, 49% reduction\\)\n- Extract 5 helpers: _handle_maker_to_taker_escalation,\n  _handle_cancel_or_defer_modify, _handle_insufficient_balance_error,\n  _handle_hedge_evaporated_error, _handle_generic_error\n\nPhase 2.5.2c: get_fresh_orderbook + get_fresh_orderbook_depth\n\\(273 + 180 â†’ ~210 lines combined, 55% reduction\\)\n- Add OrderbookFetchConfig dataclass\n- Extract 10 helpers: _load_orderbook_fetch_config, _safe_decimal,\n  _book_has_depth, _has_any_price_data, _merge_exchange_book,\n  _snapshot_depth_ok, _log_validation_failure, _try_use_stale_cache,\n  _normalize_depth_book, _is_depth_ok, _fetch_depth_with_fallback\n\nAll 302 unit tests passing.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" log main..HEAD --oneline)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" diff main..HEAD --stat)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" branch -vv)",
      "Bash(git -C \"C:\\\\Users\\\\koopm\\\\funding-bot\" push -u origin fix/test-build-adapter-init)",
      "Bash(git fetch:*)",
      "Bash(git stash:*)",
      "Bash(git checkout:*)",
      "Bash(git cherry-pick:*)"
    ]
  },
  "disabledMcpjsonServers": [
    "magic",
    "chrome-devtools"
  ],
  "contextFiles": [
    "PLANNING.md",
    "TASK.md",
    "KNOWLEDGE.md",
    "CONTRIBUTING.md"
  ]
}
