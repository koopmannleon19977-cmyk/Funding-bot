12:56:38 [INFO]  CONFIG VALIDIERUNG abgeschlossen.
12:56:38 [DEBUG] Using selector: SelectSelector
12:56:38 [INFO]  üî• BOT V4 (Full Architected) STARTING...
12:56:38 [INFO] üöÄ Starting InMemoryStateManager...
12:56:38 [INFO] üìÇ Initializing database: data/trades.db
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1631DA0>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1631DA0> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1674D60>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1674D60>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1632160>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1632160> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675030>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675030>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1632340>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1632340> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C16754E0>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C16754E0>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1631BC0>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1631BC0> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675A80>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675A80>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1632700>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1632700> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675E40>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1675E40>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [INFO] ‚úÖ Read pool created: 5 connections
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1632520>
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1632520> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA foreign_keys=ON', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA foreign_keys=ON', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA journal_mode=WAL', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA journal_mode=WAL', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA synchronous=NORMAL', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, 'PRAGMA synchronous=NORMAL', []) completed
12:56:38 [INFO] ‚úÖ WAL mode enabled
12:56:38 [INFO] üîÑ Running database migrations...
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, "\n            CREATE TABLE IF NOT EXISTS trades (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                side_x10 TEXT NOT NULL,\n                side_lighter TEXT NOT NULL,\n                size_usd REAL NOT NULL,\n                entry_price_x10 REAL,\n                entry_price_lighter REAL,\n                status TEXT DEFAULT 'open',\n                is_farm_trade INTEGER DEFAULT 0,\n                created_at INTEGER NOT NULL,\n                closed_at INTEGER,\n                pnl REAL DEFAULT 0,\n                funding_collected REAL DEFAULT 0,\n                account_label TEXT,\n                x10_order_id TEXT,\n                lighter_order_id TEXT,\n                UNIQUE(symbol, status) ON CONFLICT REPLACE\n            )\n            ", [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, "\n            CREATE TABLE IF NOT EXISTS trades (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                side_x10 TEXT NOT NULL,\n                side_lighter TEXT NOT NULL,\n                size_usd REAL NOT NULL,\n                entry_price_x10 REAL,\n                entry_price_lighter REAL,\n                status TEXT DEFAULT 'open',\n                is_farm_trade INTEGER DEFAULT 0,\n                created_at INTEGER NOT NULL,\n                closed_at INTEGER,\n                pnl REAL DEFAULT 0,\n                funding_collected REAL DEFAULT 0,\n                account_label TEXT,\n                x10_order_id TEXT,\n                lighter_order_id TEXT,\n                UNIQUE(symbol, status) ON CONFLICT REPLACE\n            )\n            ", []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_symbol ON trades(symbol)\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_symbol ON trades(symbol)\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_status ON trades(status)\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_status ON trades(status)\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_created ON trades(created_at)\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_trades_created ON trades(created_at)\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS funding_history (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                rate REAL NOT NULL,\n                timestamp INTEGER NOT NULL,\n                collected_amount REAL DEFAULT 0\n            )\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS funding_history (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                rate REAL NOT NULL,\n                timestamp INTEGER NOT NULL,\n                collected_amount REAL DEFAULT 0\n            )\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_funding_symbol_ts \n            ON funding_history(symbol, timestamp)\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_funding_symbol_ts \n            ON funding_history(symbol, timestamp)\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS execution_log (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                action TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                success INTEGER NOT NULL,\n                order_id TEXT,\n                error TEXT,\n                latency_ms REAL,\n                timestamp INTEGER NOT NULL\n            )\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS execution_log (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                symbol TEXT NOT NULL,\n                action TEXT NOT NULL,\n                exchange TEXT NOT NULL,\n                success INTEGER NOT NULL,\n                order_id TEXT,\n                error TEXT,\n                latency_ms REAL,\n                timestamp INTEGER NOT NULL\n            )\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS bot_state (\n                key TEXT PRIMARY KEY,\n                value TEXT NOT NULL,\n                updated_at INTEGER NOT NULL\n            )\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS bot_state (\n                key TEXT PRIMARY KEY,\n                value TEXT NOT NULL,\n                updated_at INTEGER NOT NULL\n            )\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS pnl_snapshots (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                timestamp INTEGER NOT NULL,\n                total_pnl REAL NOT NULL,\n                unrealized_pnl REAL NOT NULL,\n                realized_pnl REAL NOT NULL,\n                funding_pnl REAL NOT NULL,\n                trade_count INTEGER NOT NULL\n            )\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS pnl_snapshots (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                timestamp INTEGER NOT NULL,\n                total_pnl REAL NOT NULL,\n                unrealized_pnl REAL NOT NULL,\n                realized_pnl REAL NOT NULL,\n                funding_pnl REAL NOT NULL,\n                trade_count INTEGER NOT NULL\n            )\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_pnl_ts ON pnl_snapshots(timestamp)\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE INDEX IF NOT EXISTS idx_pnl_ts ON pnl_snapshots(timestamp)\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS _migrations (\n                id INTEGER PRIMARY KEY,\n                name TEXT NOT NULL,\n                applied_at INTEGER NOT NULL\n            )\n            ', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            CREATE TABLE IF NOT EXISTS _migrations (\n                id INTEGER PRIMARY KEY,\n                name TEXT NOT NULL,\n                applied_at INTEGER NOT NULL\n            )\n            ', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>)
12:56:38 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>) completed
12:56:38 [INFO] ‚úÖ Migrations complete (11 statements)
12:56:38 [INFO] ‚úÖ Database initialized
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1674D60>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ())
12:56:38 [INFO] üñäÔ∏è Database write loop started
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1674D60>, "SELECT * FROM trades WHERE status = 'open' ORDER BY created_at DESC", ()) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001C1BF5F66C0>)
12:56:38 [DEBUG] operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001C1BF5F66C0>) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001C1BF5F66C0>)
12:56:38 [DEBUG] operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001C1BF5F66C0>) completed
12:56:38 [INFO] üìÇ Loaded 0 trades from database
12:56:38 [INFO] ‚úÖ InMemoryStateManager started (loaded 0 trades)
12:56:38 [INFO] ‚úÖ State Manager started
12:56:38 [INFO]  Telegram Bot disabled (Token/ChatID missing).
12:56:38 [INFO] ‚úÖ Async database initialized
12:56:38 [DEBUG] executing <function connect.<locals>.connector at 0x000001C1C1631EE0>
12:56:38 [INFO] üìù State writer loop started
12:56:38 [DEBUG] operation <function connect.<locals>.connector at 0x000001C1C1631EE0> completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676890>, "\n                CREATE TABLE IF NOT EXISTS trade_history (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    symbol TEXT NOT NULL,\n                    entry_time TIMESTAMP,\n                    exit_time TIMESTAMP,\n                    hold_duration_hours REAL,\n                    close_reason TEXT,\n                    final_pnl_usd REAL,\n                    funding_pnl_usd REAL,\n                    spread_pnl_usd REAL,\n                    fees_usd REAL,\n                    account_label TEXT DEFAULT 'Main'\n                )\n            ", [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676890>, "\n                CREATE TABLE IF NOT EXISTS trade_history (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    symbol TEXT NOT NULL,\n                    entry_time TIMESTAMP,\n                    exit_time TIMESTAMP,\n                    hold_duration_hours REAL,\n                    close_reason TEXT,\n                    final_pnl_usd REAL,\n                    funding_pnl_usd REAL,\n                    spread_pnl_usd REAL,\n                    fees_usd REAL,\n                    account_label TEXT DEFAULT 'Main'\n                )\n            ", []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676890>)
12:56:38 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676890>) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676890>, 'PRAGMA table_info(trade_history)', [])
12:56:38 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676890>, 'PRAGMA table_info(trade_history)', []) completed
12:56:38 [DEBUG] executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001C1BF5F70C0>)
12:56:38 [DEBUG] operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001C1BF5F70C0>) completed
12:56:38 [DEBUG] ‚úÖ Database schema up to date
12:56:38 [DEBUG] executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001C1C1676890>)
12:56:38 [DEBUG] operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001C1C1676890>) completed
12:56:38 [INFO] Initialisiere X10 Adapter...
12:56:38 [INFO]  X10 Account initialisiert.
12:56:38 [INFO] Initialisiere Lighter Adapter...
12:56:38 [INFO] üìä Loading Market Data...
12:56:38 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:56:38 [INFO] ‚öôÔ∏è Lighter: Loading markets...
12:56:38 [DEBUG] Starting new HTTPS connection (1): mainnet.zklighter.elliot.ai:443
12:56:39 [DEBUG] https://mainnet.zklighter.elliot.ai:443 "GET /api/v1/nextNonce?account_index=60113&api_key_index=3 HTTP/1.1" 200 25
12:56:41 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
12:56:58 [INFO] ‚úÖ Lighter: 118/118 markets loaded (100.0%)
12:56:58 [INFO] ‚úÖ Markets loaded: X10=91, Lighter=118
12:56:58 [INFO] üìà Pre-loading funding rates...
12:57:00 [INFO] ‚úÖ Lighter funding rates pre-loaded: 115
12:57:00 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:57:02 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
12:57:02 [INFO] ‚úÖ X10 funding rates: 91
12:57:02 [INFO] üåê Starting WebSocket streams...
12:57:02 [INFO] DEBUG: About to call ws_manager.start()...
12:57:02 [INFO] üîå [lighter] WebSocket manager started
12:57:02 [INFO] üîå [x10] WebSocket manager started
12:57:02 [INFO] ‚úÖ WebSocketManager started
12:57:02 [INFO] ‚úÖ WebSocket streams connected
12:57:02 [INFO] DEBUG: ws_manager.start() completed or failed, continuing...
12:57:02 [INFO] üîç STATE RECONCILIATION: Checking DB vs Exchange...
12:57:02 [INFO] ‚úì No DB trades to reconcile
12:57:02 [DEBUG] = connection is CONNECTING
12:57:02 [DEBUG] = connection is CONNECTING
12:57:03 [DEBUG] > GET /stream HTTP/1.1
12:57:03 [DEBUG] > Host: mainnet.zklighter.elliot.ai
12:57:03 [DEBUG] > Upgrade: websocket
12:57:03 [DEBUG] > Connection: Upgrade
12:57:03 [DEBUG] > Sec-WebSocket-Key: iloqXwz2yhTg5l9Ulm/USA==
12:57:03 [DEBUG] > Sec-WebSocket-Version: 13
12:57:03 [DEBUG] > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
12:57:03 [DEBUG] > User-Agent: Python/3.11 websockets/15.0.1
12:57:03 [DEBUG] > GET /stream.extended.exchange/v1/account HTTP/1.1
12:57:03 [DEBUG] > Host: api.starknet.extended.exchange
12:57:03 [DEBUG] > Upgrade: websocket
12:57:03 [DEBUG] > Connection: Upgrade
12:57:03 [DEBUG] > Sec-WebSocket-Key: Il0AOhoPQA6Bv0kr9P/e/g==
12:57:03 [DEBUG] > Sec-WebSocket-Version: 13
12:57:03 [DEBUG] > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
12:57:03 [DEBUG] > X-Api-Key: a1c9207f79f0e57ddc454bf1e16dbe49
12:57:03 [DEBUG] > User-Agent: X10PythonTradingClient/0. 4.5
12:57:03 [DEBUG] < HTTP/1.1 101 Switching Protocols
12:57:03 [DEBUG] < Date: Sun, 30 Nov 2025 11:56:56 GMT
12:57:03 [DEBUG] < Connection: upgrade
12:57:03 [DEBUG] < Upgrade: websocket
12:57:03 [DEBUG] < Sec-WebSocket-Accept: aUYNyOy/qdANZOPCWL/MEO4bdUA=
12:57:03 [DEBUG] < Access-Control-Allow-Headers: Content-Type, Origin, X-CSRF-Token, Authorization, AccessToken, Token, Range
12:57:03 [DEBUG] < Access-Control-Expose-Headers: Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers
12:57:03 [DEBUG] < Access-Control-Allow-Credentials: true
12:57:03 [DEBUG] < Access-Control-Max-Age: 86400
12:57:03 [DEBUG] < Vary: Origin
12:57:03 [DEBUG] < Vary: Origin
12:57:03 [DEBUG] < Access-Control-Allow-Origin: *
12:57:03 [DEBUG] < Access-Control-Allow-Methods: GET, HEAD, POST, PATCH, PUT, DELETE
12:57:03 [DEBUG] = connection is OPEN
12:57:03 [DEBUG] < TEXT '{"session_id":"71a67ae7-f3a4-4a7c-b2a4-af9f85372133","type":"connected"}' [72 bytes]
12:57:03 [INFO] ‚úÖ [lighter] Connected to wss://mainnet.zklighter.elliot.ai/stream
12:57:03 [DEBUG] < HTTP/1.1 101 Switching Protocols
12:57:03 [DEBUG] < Date: Sun, 30 Nov 2025 11:56:56 GMT
12:57:03 [DEBUG] < Connection: upgrade
12:57:03 [DEBUG] < Upgrade: websocket
12:57:03 [DEBUG] < Sec-WebSocket-Accept: 6ZGPwrob7YzXc+6rqnqYMFNAF3g=
12:57:03 [DEBUG] = connection is OPEN
12:57:03 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":true,"orde...:1764503816999,"seq":1}' [82 bytes]
12:57:03 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":true,"p...:1764503817000,"seq":2}' [88 bytes]
12:57:03 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":true,"ba...:1764503817000,"seq":3}' [376 bytes]
12:57:03 [INFO] ‚úÖ [x10] Connected to wss://api.starknet.extended.exchange/stream.extended.exchange/v1/account
12:57:04 [INFO] ‚è≥ Waiting for WebSocket connections...
12:57:04 [INFO] Starting emergency_position_cleanup (interval=3600s, max_age_hours=48.0)
12:57:04 [DEBUG] Fetching fresh positions (force=True, cache_age=1764503824.3s)
12:57:04 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
12:57:04 [DEBUG] < PING '[ping a8679f9e8996b36c6790a81188c1989f224c21387...615fe3389bacec2c4 ping]' [text, 76 bytes]
12:57:04 [DEBUG] > PONG '[ping a8679f9e8996b36c6790a81188c1989f224c21387...615fe3389bacec2c4 ping]' [text, 76 bytes]
12:57:05 [INFO] Lighter: Found 0 open positions
12:57:05 [INFO] üìä Positions: X10=0, Lighter=0
12:57:05 [DEBUG] < PING '[ping c53ddfddf4d59d0bca1d67abd6bd01eeba2e635bf...9f9d34857c671d642 ping]' [text, 76 bytes]
12:57:05 [DEBUG] > PONG '[ping c53ddfddf4d59d0bca1d67abd6bd01eeba2e635bf...9f9d34857c671d642 ping]' [text, 76 bytes]
12:57:06 [DEBUG] < PING '[ping 22f965ec792f8793b213e38c29e81a54a0fe76a78...8579102f8306e3b99 ping]' [text, 76 bytes]
12:57:06 [DEBUG] > PONG '[ping 22f965ec792f8793b213e38c29e81a54a0fe76a78...8579102f8306e3b99 ping]' [text, 76 bytes]
12:57:08 [DEBUG] < PING '[ping 2d2d74e78d4e999d6ff22cf6d45ed88b9cfda4b1b...4835bba4348a368cc ping]' [text, 76 bytes]
12:57:08 [DEBUG] > PONG '[ping 2d2d74e78d4e999d6ff22cf6d45ed88b9cfda4b1b...4835bba4348a368cc ping]' [text, 76 bytes]
12:57:09 [INFO] üîç Verifying WebSocket health...
12:57:09 [DEBUG] < PING '[ping 97b357316afa51aabfd59f22f472efe007bf8e3c5...9046372b5ce9bd064 ping]' [text, 76 bytes]
12:57:09 [DEBUG] > PONG '[ping 97b357316afa51aabfd59f22f472efe007bf8e3c5...9046372b5ce9bd064 ping]' [text, 76 bytes]
12:57:10 [DEBUG] < PING '[ping 5a81f488e5f27b3e2b20baa91191845dbe7b49f8b...3b4fa8311ab97eb78 ping]' [text, 76 bytes]
12:57:10 [DEBUG] > PONG '[ping 5a81f488e5f27b3e2b20baa91191845dbe7b49f8b...3b4fa8311ab97eb78 ping]' [text, 76 bytes]
12:57:11 [INFO] üìä Cache status: X10=78 prices, Lighter=118 prices
12:57:11 [INFO] ‚úÖ WebSocket streams healthy - receiving price updates
12:57:11 [INFO] üìä Refreshing missing prices...
12:57:11 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:57:11 [DEBUG] < PING '[ping db52020ca3d591884ab8ff2624f3f30f244922074...914187611684e228a ping]' [text, 76 bytes]
12:57:11 [DEBUG] > PONG '[ping db52020ca3d591884ab8ff2624f3f30f244922074...914187611684e228a ping]' [text, 76 bytes]
12:57:13 [DEBUG] < PING '[ping 04ded2fc73939e6870d4f0c1f49336d322f9386e6...29ddd8661608c9597 ping]' [text, 76 bytes]
12:57:13 [DEBUG] > PONG '[ping 04ded2fc73939e6870d4f0c1f49336d322f9386e6...29ddd8661608c9597 ping]' [text, 76 bytes]
12:57:13 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 78 Preise
12:57:13 [INFO] BOT L√ÑUFT 24/7 ‚Äì Tasks √ºberwacht | Ctrl+C = Stop
12:57:13 [INFO] Logic Loop gestartet ‚Äì REFRESH alle 3s
12:57:13 [INFO] üîç üíé ARB Scanning 70 pairs. Open symbols to skip: set()
12:57:13 [DEBUG] Price cache status: X10=70/70, Lighter=69/70
12:57:13 [INFO] üîç Scanning 70 pairs. Lighter markets: 118, X10 markets: 91
12:57:13 [DEBUG] üìä X10 Funding Cache refresh (current=91)
12:57:13 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:57:13 [INFO] üõ°Ô∏è Trade Management Loop gestartet
12:57:13 [DEBUG] MKR-USD: Missing rates (L=None, X=1.3e-05)
12:57:13 [DEBUG] MKR-USD: Missing prices (X=1663.9, L=None)
12:57:13 [INFO] ‚úÖ Found 0 opportunities with predictions (farm_mode=False)
12:57:13 [INFO] ‚ö†Ô∏è Keine Prediction-Opportunities, nutze Fallback mit echten Funding Rates...
12:57:13 [INFO]  Volatility Monitor initialized: Low<3.0%, Normal<10.0%, High<20.0%, Hard Cap<50.0%
12:57:13 [INFO] Rebate discount TIA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount BERA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üîç DEBUG BCH-USD: rl=-0.00069600, rx=0.00001300, net=-0.00070900, apy=77.6%
12:57:13 [INFO] Rebate discount BCH-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] Skip BCH-USD: Invalid prices (X=0.0, L=538.146)
12:57:13 [DEBUG] ‚õî Skip XAU-USD: TradFi/FX
12:57:13 [INFO] üîç DEBUG ZRO-USD: rl=-0.00096000, rx=-0.00010500, net=-0.00085500, apy=93.6%
12:57:13 [INFO] Rebate discount ZRO-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üíé ZRO-USD | APY: 93.6%
12:57:13 [INFO] Rebate discount AVNT-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount SEI-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ONDO-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount XRP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] ‚õî Skip SPX-USD: TradFi/FX
12:57:13 [INFO] Rebate discount UNI-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount FARTCOIN-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ENA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount LDO-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üîç DEBUG KAITO-USD: rl=-0.00082400, rx=-0.00007100, net=-0.00075300, apy=82.5%
12:57:13 [INFO] Rebate discount KAITO-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üíé KAITO-USD | APY: 82.5%
12:57:13 [INFO] Rebate discount IP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount WLD-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount FIL-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] Skip FIL-USD: Invalid prices (X=0.0, L=1.61402)
12:57:13 [INFO] Rebate discount MNT-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount EIGEN-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount WIF-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ADA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üîç DEBUG APT-USD: rl=-0.00079200, rx=-0.00006600, net=-0.00072600, apy=79.5%
12:57:13 [INFO] Rebate discount APT-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üíé APT-USD | APY: 79.5%
12:57:13 [INFO] Rebate discount PENGU-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount VIRTUAL-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount SUI-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ZEC-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount POPCAT-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount BTC-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount MON-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount LTC-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] ‚õî Skip XAG-USD: TradFi/FX
12:57:13 [INFO] Rebate discount S-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount JUP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] ‚õî Skip AERO-USD: In BLACKLIST
12:57:13 [INFO] Rebate discount TRX-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ASTER-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount SOL-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount PUMP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount LINEA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount PENDLE-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount TRUMP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount STRK-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount 1000BONK-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] Skip MKR-USD: Missing rates (L=None, X=1.3e-05)
12:57:13 [INFO] üîç DEBUG ZORA-USD: rl=-0.00264800, rx=-0.00028200, net=-0.00236600, apy=259.1%
12:57:13 [INFO] Rebate discount ZORA-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] üíé ZORA-USD | APY: 259.1%
12:57:13 [INFO] Rebate discount DOT-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] Skip DOT-USD: Invalid prices (X=0.0, L=2.25509)
12:57:13 [INFO] Rebate discount 1000PEPE-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount AAVE-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount AVAX-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount WLFI-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ARB-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] ‚õî Skip MEGA-USD: In BLACKLIST
12:57:13 [INFO] üîç DEBUG RESOLV-USD: rl=-0.00325600, rx=-0.00065400, net=-0.00260200, apy=284.9%
12:57:13 [INFO] Rebate discount RESOLV-USD: -8.00% APY -> threshold 5.00%
12:57:13 [DEBUG] Skip RESOLV-USD: Spread 0.43% too high
12:57:13 [INFO] Rebate discount APEX-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount HYPE-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount BNB-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount NEAR-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount GRASS-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount TON-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount XPL-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount 1000SHIB-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount TAO-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount DOGE-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount EDEN-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount CRV-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount USDJPY-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount LINK-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount ETH-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] Rebate discount OP-USD: -8.00% APY -> threshold 5.00%
12:57:13 [INFO] ‚úÖ Found 48 opportunities from 64 valid pairs (farm_mode=False, scanned=70)
12:57:13 [INFO] üéØ Found 3 opportunities, executing best...
12:57:13 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
12:57:14 [DEBUG] < PING '[ping a3781fe7dbf7dc6621ad8c579bb2bb08285e88c39...400547a36cc2e4a43 ping]' [text, 76 bytes]
12:57:14 [DEBUG] > PONG '[ping a3781fe7dbf7dc6621ad8c579bb2bb08285e88c39...400547a36cc2e4a43 ping]' [text, 76 bytes]
12:57:14 [DEBUG] Lighter Balance: Raw=$302.21, Safe=$287.10
12:57:14 [INFO] X10: Detected balance = $306.43
12:57:14 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
12:57:15 [INFO]  X10: 91 M√§rkte geladen, 91 Funding Rates, 82 Preise
12:57:15 [DEBUG] X10: Funding Refresh OK, cache=91
12:57:15 [DEBUG] üìä Lighter Funding Cache refresh (current=115)
12:57:15 [INFO] Lighter: Found 0 open positions
12:57:15 [INFO] üí∞ Balance: X10=$306.4 (free=$303.4), Lit=$287.1 (free=$284.1) | DB_Trades=0, Real_Positions=0, Locked=$0/ex
12:57:15 [INFO] üöÄ Launching trade for ZORA-USD (APY=259.1%)
12:57:15 [INFO] FundingPredictorV2 ‚Üí FINAL BULLETPROOF VERSION
12:57:15 [DEBUG] Skip ZORA-USD: Min Req $25.00 > Max Config $20.0
12:57:15 [DEBUG] < PING '[ping 10b172f6f50053ca4dd542f13f62c0070c0bd87de...32e4b0fca174391de ping]' [text, 76 bytes]
12:57:15 [DEBUG] > PONG '[ping 10b172f6f50053ca4dd542f13f62c0070c0bd87de...32e4b0fca174391de ping]' [text, 76 bytes]
12:57:16 [INFO] üöÄ Launching trade for ZRO-USD (APY=93.6%)
12:57:16 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
12:57:16 [INFO] üé≤ KellyPositionSizer initialized (Safety=0.25, MaxFraction=0.1)
12:57:16 [INFO] üé∞ KELLY ZRO-USD: win_rate=80.0%, kelly_fraction=0.6000, safe_fraction=0.0500, confidence=LOW, samples=0
12:57:16 [INFO] üìä KELLY SIZE ZRO-USD: $14.4 (kelly-optimized)
12:57:16 [INFO] üöÄ Opening ZRO-USD: Size=$14.4 (Min=$14.0)
12:57:16 [INFO] üîÑ [PARALLEL] ZRO-USD: Lighter POST-ONLY first
12:57:16 [INFO] üöÄ LIGHTER OPEN ZRO-USD: side=SELL, size_usd=$14.35, price=$1.337070
12:57:16 [DEBUG] Create Order Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"MarketIndex":60,"ClientOrderIndex":1764503912916,"BaseAmount":109,"Price":132904,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1766923036352,"ExpiredAt":1764504435352,"Nonce":1729,"Sig":"/vIfePnIYbZ6OX/fvLopyAxP//8s2yGotoiOEryoFLykad0Ym6gRbdr9/KFCk8wYZ/tdBMAZUNBT1+pCt3WKvTT5S50k2BCrYgXAvzKcbHM="}
12:57:16 [INFO] üîÑ [PARALLEL] ZRO-USD: X10 MARKET order
12:57:16 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:57:16 [INFO] üöÄ Launching trade for KAITO-USD (APY=82.5%)
12:57:16 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
12:57:16 [DEBUG] Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='82afc6babd9fcaf827af9cc277c4a8e84eac2578b03188ae5c451a8d59edd2e3f595fc2a119f0ae5' predicted_execution_time_ms=1764503830547 additional_properties={}
12:57:16 [INFO] Lighter Order: 82afc6babd9fcaf827af9cc277c4a8e84eac2578b03188ae5c451a8d59edd2e3f595fc2a119f0ae5
12:57:16 [INFO] üé∞ KELLY KAITO-USD: win_rate=80.0%, kelly_fraction=0.6000, safe_fraction=0.0500, confidence=LOW, samples=0
12:57:16 [INFO] üìä KELLY SIZE KAITO-USD: $13.6 (kelly-optimized)
12:57:16 [INFO] üöÄ Opening KAITO-USD: Size=$13.6 (Min=$11.0)
12:57:16 [INFO] üîÑ [PARALLEL] KAITO-USD: Lighter POST-ONLY first
12:57:16 [INFO] üöÄ LIGHTER OPEN KAITO-USD: side=SELL, size_usd=$13.60, price=$0.703140
12:57:16 [DEBUG] Create Order Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"MarketIndex":33,"ClientOrderIndex":1764503898659,"BaseAmount":195,"Price":69892,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1766923036887,"ExpiredAt":1764504435887,"Nonce":1730,"Sig":"1YY0c8ZwrGtwZ76e0qurhFKCRr9QF27vRALaDKDvHUAqsq3A2wfSfrN3D/JWNd39Mn+3Ar8oTmjitCt5oOe+PlZFjOnwhzlIRrzPlhNWZiE="}
12:57:16 [DEBUG] Lighter: Loaded 389 funding rates
12:57:16 [DEBUG] Lighter: Funding Refresh OK, cache=118
12:57:16 [DEBUG] < PING '[ping 0b94afe4415e71385cfbd3b8d0e31d1f23e13744d...8efb08e3cd605d5dc ping]' [text, 76 bytes]
12:57:16 [DEBUG] > PONG '[ping 0b94afe4415e71385cfbd3b8d0e31d1f23e13744d...8efb08e3cd605d5dc ping]' [text, 76 bytes]
12:57:16 [INFO] üîÑ [PARALLEL] KAITO-USD: X10 MARKET order
12:57:17 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/info/markets?
12:57:17 [INFO] ‚úÖ Launched 3 trade tasks this cycle
12:57:17 [DEBUG] Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='69924bbe9205123cd669b221482c09208823ebe44e91687144f906e4feffd2bcdf1c4c15a86fd543' predicted_execution_time_ms=1764503831079 additional_properties={}
12:57:17 [INFO] Lighter Order: 69924bbe9205123cd669b221482c09208823ebe44e91687144f906e4feffd2bcdf1c4c15a86fd543
12:57:18 [DEBUG] < PING '[ping e1c023daeb98abdfb51caec1e35c4399c66d7f938...aa22195062cd02621 ping]' [text, 76 bytes]
12:57:18 [DEBUG] > PONG '[ping e1c023daeb98abdfb51caec1e35c4399c66d7f938...aa22195062cd02621 ping]' [text, 76 bytes]
12:57:18 [DEBUG] > PING 'f ^u' [text, 4 bytes]
12:57:18 [DEBUG] % sent keepalive ping
12:57:18 [DEBUG] Placing an order: id=1629465958136574964117047796197265570844638469709179273190706903112542554386
12:57:18 [DEBUG] Sending POST https://api.starknet.extended.exchange/api/v1/user/order, headers={<RequestHeader.ACCEPT: 'Accept'>: 'application/json', <RequestHeader.CONTENT_TYPE: 'Content-Type'>: 'application/json', <RequestHeader.USER_AGENT: 'User-Agent'>: 'X10PythonTradingClient/0.0.17', <RequestHeader.API_KEY: 'X-Api-Key'>: 'a1c9207f79f0e57ddc454bf1e16dbe49'}
12:57:18 [DEBUG] < PONG 'f ^u' [text, 4 bytes]
12:57:18 [DEBUG] % received keepalive pong
12:57:19 [DEBUG] Placing an order: id=3533979060861112569279609718869599073596329705138937698177554599911237705386
12:57:19 [DEBUG] Sending POST https://api.starknet.extended.exchange/api/v1/user/order, headers={<RequestHeader.ACCEPT: 'Accept'>: 'application/json', <RequestHeader.CONTENT_TYPE: 'Content-Type'>: 'application/json', <RequestHeader.USER_AGENT: 'User-Agent'>: 'X10PythonTradingClient/0.0.17', <RequestHeader.API_KEY: 'X-Api-Key'>: 'a1c9207f79f0e57ddc454bf1e16dbe49'}
12:57:19 [DEBUG] < PING '[ping 1cde9022828b8e1ae101c581b1bf704def7d73233...1229a0c98e1f05eb8 ping]' [text, 76 bytes]
12:57:19 [DEBUG] > PONG '[ping 1cde9022828b8e1ae101c581b1bf704def7d73233...1229a0c98e1f05eb8 ping]' [text, 76 bytes]
12:57:19 [INFO]  X10 Order: 1995099796456669184
12:57:19 [INFO] ‚úÖ [PARALLEL] ZRO-USD: Both legs filled in 3328ms
12:57:19 [DEBUG] üìù Trade added to state: ZRO-USD
12:57:19 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('ZRO-USD', 'BUY', 'SELL', 0, 1.336852951822, 1.33707, 'open', 0, 1764503839667, 'Main/Main', None, None))
12:57:19 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('ZRO-USD', 'BUY', 'SELL', 0, 1.336852951822, 1.33707, 'open', 0, 1764503839667, 'Main/Main', None, None)) completed
12:57:19 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>)
12:57:19 [DEBUG] üìù Flushed 1 writes
12:57:19 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>) completed
12:57:19 [DEBUG] üìù Flushed 1 writes in 15.0ms
12:57:19 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099797295468547}' [449 bytes]
12:57:19 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":false,"ord...d":1995099797295468546}' [606 bytes]
12:57:19 [DEBUG] < TEXT '{"type":"TRADE","data":{"isSnapshot":false,"tra...d":1995099797295468545}' [484 bytes]
12:57:19 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":false,"...:1764503833500,"seq":7}' [476 bytes]
12:57:19 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099797316440064}' [463 bytes]
12:57:20 [INFO]  X10 Order: 1995099797992923136
12:57:20 [INFO] ‚úÖ [PARALLEL] KAITO-USD: Both legs filled in 3172ms
12:57:20 [DEBUG] üìù Trade added to state: KAITO-USD
12:57:20 [INFO] üîç üíé ARB Scanning 70 pairs. Open symbols to skip: {'ZRO-USD', 'KAITO-USD'}
12:57:20 [DEBUG] Price cache status: X10=70/70, Lighter=69/70
12:57:20 [INFO] üîç Scanning 70 pairs. Lighter markets: 118, X10 markets: 91
12:57:20 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099798826389508}' [463 bytes]
12:57:20 [DEBUG] < TEXT '{"type":"TRADE","data":{"isSnapshot":false,"tra...d":1995099798826389506}' [488 bytes]
12:57:20 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":false,"ord...d":1995099798826389507}' [609 bytes]
12:57:20 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":false,"...1764503833867,"seq":12}' [478 bytes]
12:57:20 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099798859943937}' [464 bytes]
12:57:20 [DEBUG] MKR-USD: Missing prices (X=1663.9, L=None)
12:57:20 [DEBUG] Fetching fresh positions (force=False, cache_age=16.1s)
12:57:20 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
12:57:20 [INFO] ‚úÖ Found 0 opportunities with predictions (farm_mode=False)
12:57:20 [INFO] ‚ö†Ô∏è Keine Prediction-Opportunities, nutze Fallback mit echten Funding Rates...
12:57:20 [INFO]  VOL REGIME: TIA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount TIA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: BERA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount BERA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] üîç DEBUG BCH-USD: rl=-0.00069600, rx=0.00001300, net=-0.00070900, apy=77.6%
12:57:20 [INFO] Rebate discount BCH-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] Skip BCH-USD: Invalid prices (X=0.0, L=538.146)
12:57:20 [DEBUG] ‚õî Skip XAU-USD: TradFi/FX
12:57:20 [DEBUG] üîÑ Skip ZRO-USD: Already open (in open_syms)
12:57:20 [INFO]  VOL REGIME: AVNT-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount AVNT-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: SEI-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount SEI-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ONDO-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ONDO-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: XRP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount XRP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] ‚õî Skip SPX-USD: TradFi/FX
12:57:20 [INFO]  VOL REGIME: UNI-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount UNI-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: FARTCOIN-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount FARTCOIN-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ENA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ENA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: LDO-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount LDO-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] üîÑ Skip KAITO-USD: Already open (in open_syms)
12:57:20 [INFO]  VOL REGIME: IP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount IP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: WLD-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount WLD-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] Rebate discount FIL-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] Skip FIL-USD: Invalid prices (X=0.0, L=1.61402)
12:57:20 [INFO]  VOL REGIME: MNT-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount MNT-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: EIGEN-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount EIGEN-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: WIF-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount WIF-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ADA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ADA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: APT-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] üîç DEBUG APT-USD: rl=-0.00079200, rx=-0.00006600, net=-0.00072600, apy=79.5%
12:57:20 [INFO] Rebate discount APT-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: PENGU-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount PENGU-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: VIRTUAL-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount VIRTUAL-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: SUI-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount SUI-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ZEC-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ZEC-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: POPCAT-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount POPCAT-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: BTC-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount BTC-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: MON-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount MON-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: LTC-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount LTC-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] ‚õî Skip XAG-USD: TradFi/FX
12:57:20 [INFO]  VOL REGIME: S-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount S-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: JUP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount JUP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] ‚õî Skip AERO-USD: In BLACKLIST
12:57:20 [INFO]  VOL REGIME: TRX-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount TRX-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ASTER-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ASTER-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: SOL-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount SOL-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: PUMP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount PUMP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: LINEA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount LINEA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: PENDLE-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount PENDLE-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: TRUMP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount TRUMP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: STRK-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount STRK-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: 1000BONK-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount 1000BONK-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] Rebate discount MKR-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ZORA-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] üîç DEBUG ZORA-USD: rl=-0.00264800, rx=-0.00028200, net=-0.00236600, apy=259.1%
12:57:20 [INFO] Rebate discount ZORA-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] Rebate discount DOT-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] Skip DOT-USD: Invalid prices (X=0.0, L=2.25509)
12:57:20 [INFO]  VOL REGIME: 1000PEPE-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount 1000PEPE-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: AAVE-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount AAVE-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: AVAX-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount AVAX-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: WLFI-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount WLFI-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ARB-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ARB-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] ‚õî Skip MEGA-USD: In BLACKLIST
12:57:20 [INFO]  VOL REGIME: RESOLV-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] üîç DEBUG RESOLV-USD: rl=-0.00325600, rx=-0.00065400, net=-0.00260200, apy=284.9%
12:57:20 [INFO] Rebate discount RESOLV-USD: -8.00% APY -> threshold 5.00%
12:57:20 [DEBUG] Skip RESOLV-USD: Spread 0.43% too high
12:57:20 [INFO]  VOL REGIME: APEX-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount APEX-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: HYPE-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount HYPE-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: BNB-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount BNB-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: NEAR-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount NEAR-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: GRASS-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount GRASS-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: TON-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount TON-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: XPL-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount XPL-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: 1000SHIB-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount 1000SHIB-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: TAO-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount TAO-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: DOGE-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount DOGE-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: EDEN-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount EDEN-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: CRV-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount CRV-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] Rebate discount USDJPY-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: LINK-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount LINK-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: ETH-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount ETH-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO]  VOL REGIME: OP-USD UNKNOWN -> LOW (24h Range: 0.00%)
12:57:20 [INFO] Rebate discount OP-USD: -8.00% APY -> threshold 5.00%
12:57:20 [INFO] ‚úÖ Found 46 opportunities from 62 valid pairs (farm_mode=False, scanned=70)
12:57:20 [INFO] üéØ Found 3 opportunities, executing best...
12:57:20 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
12:57:20 [DEBUG] < PING '[ping 80e30bc90da94dc74ab7a0a5ecb4e1da539665838...de7a47f2f8d7adc87 ping]' [text, 76 bytes]
12:57:20 [DEBUG] > PONG '[ping 80e30bc90da94dc74ab7a0a5ecb4e1da539665838...de7a47f2f8d7adc87 ping]' [text, 76 bytes]
12:57:20 [INFO] Lighter: Found 2 open positions
12:57:20 [INFO] üìä Positions: X10=2, Lighter=2
12:57:20 [DEBUG] X10 positions: ['ZRO-USD', 'KAITO-USD']
12:57:20 [DEBUG] Lighter positions: ['KAITO-USD', 'ZRO-USD']
12:57:21 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('KAITO-USD', 'BUY', 'SELL', 0, 0.703127335499, 0.70314, 'open', 0, 1764503841034, 'Main/Main', None, None))
12:57:21 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('KAITO-USD', 'BUY', 'SELL', 0, 0.703127335499, 0.70314, 'open', 0, 1764503841034, 'Main/Main', None, None)) completed
12:57:21 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>)
12:57:21 [DEBUG] üìù Flushed 1 writes
12:57:21 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>) completed
12:57:21 [DEBUG] üìù Flushed 1 writes in 16.0ms
12:57:21 [DEBUG] Using cached positions (age: 1.5s)
12:57:21 [DEBUG] < PING '[ping e0ced3f7cad090e03dad44ba4dac80c63507f4744...57d0a6015eacd4976 ping]' [text, 76 bytes]
12:57:21 [DEBUG] > PONG '[ping e0ced3f7cad090e03dad44ba4dac80c63507f4744...57d0a6015eacd4976 ping]' [text, 76 bytes]
12:57:22 [DEBUG] Lighter Balance: Raw=$302.20, Safe=$287.09
12:57:22 [INFO] X10: Detected balance = $306.41
12:57:22 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
12:57:22 [DEBUG] Using cached positions (age: 2.5s)
12:57:23 [INFO] Lighter: Found 2 open positions
12:57:23 [INFO] üí∞ Balance: X10=$306.4 (free=$293.8), Lit=$287.1 (free=$274.5) | DB_Trades=2, Real_Positions=2, Locked=$10/ex
12:57:23 [INFO] üöÄ Launching trade for ZORA-USD (APY=259.1%)
12:57:23 [DEBUG] Skip ZORA-USD: Min Req $25.00 > Max Config $20.0
12:57:23 [DEBUG] < PING '[ping 12878501a2d9f083e2fdf94f2603a0cd4ce8653f9...3e4c3e45d370124f0 ping]' [text, 76 bytes]
12:57:23 [DEBUG] > PONG '[ping 12878501a2d9f083e2fdf94f2603a0cd4ce8653f9...3e4c3e45d370124f0 ping]' [text, 76 bytes]
12:57:23 [DEBUG] > PING c8 67 44 83 [binary, 4 bytes]
12:57:23 [DEBUG] % sent keepalive ping
12:57:23 [INFO] üöÄ Launching trade for APT-USD (APY=79.5%)
12:57:23 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/balance
12:57:23 [DEBUG] < PONG c8 67 44 83 [binary, 4 bytes]
12:57:23 [DEBUG] % received keepalive pong
12:57:23 [INFO] üé∞ KELLY APT-USD: win_rate=80.0%, kelly_fraction=0.6000, safe_fraction=0.0500, confidence=LOW, samples=0
12:57:23 [INFO] üìä KELLY SIZE APT-USD: $14.4 (kelly-optimized)
12:57:23 [INFO] üöÄ Opening APT-USD: Size=$14.4 (Min=$11.0)
12:57:23 [INFO] üîÑ [PARALLEL] APT-USD: Lighter POST-ONLY first
12:57:23 [INFO] üöÄ LIGHTER OPEN APT-USD: side=SELL, size_usd=$14.35, price=$2.010100
12:57:23 [DEBUG] Create Order Tx Info: {"AccountIndex":60113,"ApiKeyIndex":3,"MarketIndex":31,"ClientOrderIndex":1764503894553,"BaseAmount":719,"Price":19980,"IsAsk":1,"Type":0,"TimeInForce":1,"ReduceOnly":0,"TriggerPrice":0,"OrderExpiry":1766923043894,"ExpiredAt":1764504442894,"Nonce":1731,"Sig":"dCptLX4QvveitMXVJF0T+Yz4TuOoGFBCfS8bQgQ82R8n1H+vRB6ROprIM/vLdXxt2GmmjvBteYOSq7vu6zmS0zGosz6oE1PEoBxu9eTtTwE="}
12:57:23 [DEBUG] Using cached positions (age: 3.5s)
12:57:23 [INFO] üîÑ [PARALLEL] APT-USD: X10 MARKET order
12:57:24 [DEBUG] Placing an order: id=1788672158888135155607281129978535674363299702819770088661696364276986862450
12:57:24 [DEBUG] Sending POST https://api.starknet.extended.exchange/api/v1/user/order, headers={<RequestHeader.ACCEPT: 'Accept'>: 'application/json', <RequestHeader.CONTENT_TYPE: 'Content-Type'>: 'application/json', <RequestHeader.USER_AGENT: 'User-Agent'>: 'X10PythonTradingClient/0.0.17', <RequestHeader.API_KEY: 'X-Api-Key'>: 'a1c9207f79f0e57ddc454bf1e16dbe49'}
12:57:24 [INFO] üöÄ Launching trade for IP-USD (APY=49.8%)
12:57:24 [DEBUG] Skip IP-USD: Min Req $25.00 > Max Config $20.0
12:57:24 [DEBUG] Create Order Send Tx Response: code=200 message='{"ratelimit": "didn\'t use volume quota"}' tx_hash='430282fa0e862cdf63f05d7fdc40b3d960d179c38f6c8bd8b299209503218544dfe46bd7dcd120c3' predicted_execution_time_ms=1764503838088 additional_properties={}
12:57:24 [INFO] Lighter Order: 430282fa0e862cdf63f05d7fdc40b3d960d179c38f6c8bd8b299209503218544dfe46bd7dcd120c3
12:57:24 [INFO]  X10 Order: 1995099815944998912
12:57:24 [INFO] ‚úÖ [PARALLEL] APT-USD: Both legs filled in 437ms
12:57:24 [DEBUG] üìù Trade added to state: APT-USD
12:57:24 [DEBUG] executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('APT-USD', 'BUY', 'SELL', 0, 2.0100710835, 2.0101, 'open', 0, 1764503844311, 'Main/Main', None, None))
12:57:24 [DEBUG] operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C1C1676110>, '\n            INSERT INTO trades (\n                symbol, side_x10, side_lighter, size_usd,\n                entry_price_x10, entry_price_lighter, status,\n                is_farm_trade, created_at, account_label,\n                x10_order_id, lighter_order_id\n            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        ', ('APT-USD', 'BUY', 'SELL', 0, 2.0100710835, 2.0101, 'open', 0, 1764503844311, 'Main/Main', None, None)) completed
12:57:24 [DEBUG] executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>)
12:57:24 [DEBUG] üìù Flushed 1 writes
12:57:24 [DEBUG] operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C1C1676110>) completed
12:57:24 [DEBUG] üìù Flushed 1 writes in 0.0ms
12:57:24 [DEBUG] < PING '[ping 56160e6d85c230e5c69423f6c45f4b62c030226d0...1ee644eddb6b63dd0 ping]' [text, 76 bytes]
12:57:24 [DEBUG] > PONG '[ping 56160e6d85c230e5c69423f6c45f4b62c030226d0...1ee644eddb6b63dd0 ping]' [text, 76 bytes]
12:57:24 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099816782204931}' [464 bytes]
12:57:24 [DEBUG] < TEXT '{"type":"ORDER","data":{"isSnapshot":false,"ord...d":1995099816782204930}' [609 bytes]
12:57:24 [DEBUG] < TEXT '{"type":"TRADE","data":{"isSnapshot":false,"tra...d":1995099816782204929}' [485 bytes]
12:57:24 [DEBUG] < TEXT '{"type":"POSITION","data":{"isSnapshot":false,"...1764503838148,"seq":17}' [476 bytes]
12:57:24 [DEBUG] < TEXT '{"type":"BALANCE","data":{"isSnapshot":false,"b...d":1995099816811565056}' [464 bytes]
12:57:24 [INFO] ‚úÖ Launched 3 trade tasks this cycle
12:57:24 [DEBUG] Using cached positions (age: 4.5s)
12:57:25 [DEBUG] < PING '[ping 37786f6c925452a54127d554c26dcbb0cf89b7f07...538288e1df0be8d9f ping]' [text, 76 bytes]
12:57:25 [DEBUG] > PONG '[ping 37786f6c925452a54127d554c26dcbb0cf89b7f07...538288e1df0be8d9f ping]' [text, 76 bytes]
12:57:25 [DEBUG] Fetching fresh positions (force=False, cache_age=5.5s)
12:57:25 [DEBUG] Sending GET https://api.starknet.extended.exchange/api/v1/user/positions?
12:57:26 [INFO] Lighter: Found 3 open positions
12:57:26 [INFO] üìä Positions: X10=3, Lighter=3
12:57:26 [DEBUG] X10 positions: ['ZRO-USD', 'KAITO-USD', 'APT-USD']
12:57:26 [DEBUG] Lighter positions: ['APT-USD', 'KAITO-USD', 'ZRO-USD']
12:57:26 [DEBUG] < PING '[ping 006b015b5b83334130a21d1f33641e8cece2a3b9a...b53ffc33bb1819b7a ping]' [text, 76 bytes]
12:57:26 [DEBUG] > PONG '[ping 006b015b5b83334130a21d1f33641e8cece2a3b9a...b53ffc33bb1819b7a ping]' [text, 76 bytes]
12:57:27 [DEBUG] Using cached positions (age: 1.5s)
12:57:27 [DEBUG] MAX_OPEN_TRADES (3) reached, waiting...
12:57:28 [DEBUG] < PING '[ping 3c5887b369d76c0da4c21f17a03c3f7410c9ecb7e...c84cfb8d97d73786d ping]' [text, 76 bytes]
12:57:28 [DEBUG] > PONG '[ping 3c5887b369d76c0da4c21f17a03c3f7410c9ecb7e...c84cfb8d97d73786d ping]' [text, 76 bytes]
12:57:28 [DEBUG] Using cached positions (age: 2.5s)
12:57:29 [DEBUG] Using cached positions (age: 3.5s)
12:57:29 [DEBUG] < PING '[ping 64e5a32c63382de667f57e1140d22aa7bb646bb5f...d36b50c414e09681d ping]' [text, 76 bytes]
12:57:29 [DEBUG] > PONG '[ping 64e5a32c63382de667f57e1140d22aa7bb646bb5f...d36b50c414e09681d ping]' [text, 76 bytes]
12:57:30 [INFO] Shutdown angefordert ‚Äì beende sauber...
12:57:30 [INFO] SHUTDOWN_FLAG gesetzt - keine neuen Trades mehr
12:57:30 [DEBUG] < PING '[ping b0276b3a68af3fe2a2d5a085921fa163b5742d0e3...4170251cfa9742775 ping]' [text, 76 bytes]
12:57:30 [DEBUG] > PONG '[ping b0276b3a68af3fe2a2d5a085921fa163b5742d0e3...4170251cfa9742775 ping]' [text, 76 bytes]
12:57:30 [INFO] Cancelling main tasks...
12:57:30 [INFO] Cancelling symbol tasks...
12:57:30 [INFO] Stopping Managers...
12:57:30 [DEBUG] > CLOSE 1000 (OK) [2 bytes]
12:57:30 [DEBUG] = connection is CLOSING
12:57:30 [DEBUG] > CLOSE 1000 (OK) [2 bytes]
12:57:30 [DEBUG] = connection is CLOSING
12:57:31 [DEBUG] < CLOSE 1000 (OK) [2 bytes]
12:57:31 [DEBUG] < EOF
12:57:31 [DEBUG] > EOF
12:57:31 [DEBUG] = connection is CLOSED
12:57:31 [DEBUG] x closing TCP connection
12:57:31 [INFO] üîå [lighter] WebSocket stopped
12:57:31 [DEBUG] < CLOSE 1000 (OK) [2 bytes]
12:57:32 [INFO] üìù State writer loop stopped
12:57:32 [INFO] emergency_position_cleanup cancelled
12:57:32 [INFO] üñäÔ∏è Database write loop stopped
